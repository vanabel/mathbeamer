% ^^A documentation part start with %
% ^^A All other parts are called definition parts
% ^^A Comments in documentation part
% ^^A equivalently use \iffalse ... \fi
% \iffalse meta-comment
% !TeX program = XeLaTeX
% !TeX encoding = UTF-8

% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either
% version 1.3c of this license or (at your option) any later
% version. This version of this license is in
%    http://www.latex-project.org/lppl/lppl-1-3c.txt
% and the latest version of this license is in
%    http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of
% LaTeX version 2005/12/01 or later.
%
% This work has the LPPL maintenance status `maintained'.
%
% The Current Maintainers of this work is Van Abel.
%
% ---------------------------------------------------------------------
%
%<*internal>
\iffalse
%</internal>
%<*readme>
# ustcmb --- æ•°å­¦ç±»æŠ¥å‘Šæ¨¡æ¿

[![License](https://img.shields.io/badge/License-LPPL%20v1.3c-blue.svg)](http://www.latex-project.org/lppl.txt)
[![Version](https://img.shields.io/badge/Version-v2.2.4-green.svg)](https://github.com/vanabel/mathbeamer)
[![LaTeX](https://img.shields.io/badge/LaTeX-Beamer-orange.svg)](https://www.ctan.org/pkg/beamer)

> åŸºäºUSTCå­¦æ ¡ä¸»é¢˜å®šåˆ¶çš„æ•°å­¦æŠ¥å‘Šæ¨¡æ¿ï¼Œæ”¯æŒä¸­è‹±æ–‡åŒè¯­ï¼Œæä¾›è‰¯å¥½çš„æ‰“å°æ¨¡å¼

## ğŸ“– ç®€ä»‹

`ustcmb` (ustcmethbeamer) æ˜¯åŸºäºUSTCå­¦æ ¡ä¸»é¢˜å®šåˆ¶çš„æŠ¥å‘Šæ¨¡æ¿ï¼Œåˆ©ç”¨å®ƒå¯ä»¥éå¸¸æ–¹ä¾¿åœ°åˆ¶ä½œæ•°å­¦ç±»å¹»ç¯ç‰‡ã€‚å®ƒåŒæ—¶æ”¯æŒä¸­æ–‡ä¸è‹±æ–‡çš„å¤„ç†ï¼Œä»¥åŠè‰¯å¥½çš„æ‰“å°æ¨¡å¼ã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ¨ åŸºäºUSTCå­¦æ ¡ä¸»é¢˜çš„ç°ä»£åŒ–è®¾è®¡
- ğŸŒ å®Œæ•´çš„ä¸­è‹±æ–‡åŒè¯­æ”¯æŒ
- ğŸ“š çµæ´»çš„å‚è€ƒæ–‡çŒ®å¤„ç†ï¼ˆæ”¯æŒamsrefså’Œbiblatexï¼‰
- ğŸ¯ ä¸°å¯Œçš„å®šç†ç¯å¢ƒé…ç½®é€‰é¡¹
- ğŸ–¨ï¸ ä¼˜åŒ–çš„æ‰“å°æ¨¡å¼æ”¯æŒ
- ğŸ“± å“åº”å¼å¸ƒå±€è®¾è®¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸‹è½½å®‰è£…

1. ä¸‹è½½æ¨¡æ¿å‹ç¼©åŒ…ï¼š[ustcmb-v2.2.3.zip](https://github.com/vanabel/mathbeamer/blob/main/ustcmb-v2.2.3.zip)
2. è§£å‹åé˜…è¯»ç¤ºä¾‹æ–‡ä»¶ `ustcmb-main.pdf`
3. å‚è€ƒ `ustcmb-main.tex` å¼€å§‹ç¼–å†™æ‚¨çš„æŠ¥å‘Š

### åŸºæœ¬ä½¿ç”¨

```latex
\documentclass[zh]{ustcmb}

\title{æ‚¨çš„æŠ¥å‘Šæ ‡é¢˜}
\author{æ‚¨çš„å§“å}
\institute{æ‚¨çš„æœºæ„}

\begin{document}
\frame{\titlepage}

\begin{frame}
\frametitle{ç¬¬ä¸€å¼ å¹»ç¯ç‰‡}
å†…å®¹...
\end{frame}

\end{document}
```

## âš™ï¸ é…ç½®é€‰é¡¹

### æ ¸å¿ƒé€‰é¡¹

| é€‰é¡¹ | æè¿° | é»˜è®¤å€¼ |
|------|------|--------|
| `zh` | å¯ç”¨ä¸­æ–‡æ”¯æŒ | å¯ç”¨ |
| `en` | è‹±æ–‡æ¨¡å¼ | ç¦ç”¨ |
| `thmnum` | å®šç†å¸¦ç¼–å· | ç¦ç”¨ |
| `eqsecnum` | å…¬å¼ä»¥èŠ‚ç¼–å· | ç¦ç”¨ |

### å‚è€ƒæ–‡çŒ®é€‰é¡¹

| é€‰é¡¹ | æè¿° | ä¾èµ– |
|------|------|------|
| `authoryear` | ä½œè€…å¹´ä»£å¼•ç”¨æ ·å¼ (amsrefs) | amsrefs |
| `allcites` | è¾“å‡ºbib.bibä¸­çš„æ‰€æœ‰å‚è€ƒæ–‡çŒ® | amsrefs |
| `biblatex` | ä½¿ç”¨ç°ä»£biblatexåŒ… | biblatex |
| `citemath` | æ•°å­¦è®ºæ–‡ä¸“ç”¨å¼•ç”¨æ ·å¼ | biblatex + xstring |

### é«˜çº§é€‰é¡¹

| é€‰é¡¹ | æè¿° |
|------|------|
| `nds` | ä¸ä½¿ç”¨é»˜è®¤è®¾ç½®ï¼ˆéœ€è¦æ‰‹åŠ¨é…ç½®ï¼‰ |
| `subnav` | åœ¨æ¯ä¸ªå­èŠ‚æ˜¾ç¤ºå¯¼èˆª |
| `nobib` | ç¦ç”¨å‚è€ƒæ–‡çŒ®å¤„ç† |

## ğŸ“š ç¤ºä¾‹æ–‡ä»¶

é¡¹ç›®åŒ…å«å¤šä¸ªç¤ºä¾‹æ–‡ä»¶ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿä¸Šæ‰‹ï¼š

- `ustcmb-main.tex` - ä¸»è¦ç¤ºä¾‹æ–‡ä»¶
- `biblatex-example.tex` - biblatexä½¿ç”¨ç¤ºä¾‹
- `amsrefs-example.tex` - amsrefsä½¿ç”¨ç¤ºä¾‹
- `math-citation-example.tex` - æ•°å­¦å¼•ç”¨ç¤ºä¾‹

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä½¿ç”¨ndsé€‰é¡¹æ—¶çš„å¿…è¦é…ç½®

å½“ä½¿ç”¨ `nds` é€‰é¡¹æ—¶ï¼Œæ‚¨éœ€è¦æ‰‹åŠ¨é…ç½®ä»¥ä¸‹å†…å®¹ï¼š

```latex
\documentclass[nds]{ustcmb}

% è®¾ç½®ä¸»é¢˜
\usetheme{YourTheme}

% è®¾ç½®æ ‡é¢˜é¡µ
\begin{document}
\frame{\titlepage}

% è®¾ç½®å®šç†ç¯å¢ƒ
\newtheorem{thm}{Theorem}

% å¯é€‰ï¼šè®¾ç½®é¢œè‰²ä¸»é¢˜
\usecolortheme{YourColorTheme}
```

### å­—ä½“é…ç½®

æ¨¡æ¿æ”¯æŒè‡ªå®šä¹‰ä¸­æ–‡å­—ä½“ï¼š

```latex
% åœ¨å¯¼è¨€åŒºè®¾ç½®
\setCJKmainfont{YourChineseFont}
\setCJKsansfont{YourChineseSansFont}
```

## ğŸ“‹ ç‰ˆæœ¬å†å²

### [v2.2.4] (å¼€å‘ä¸­)

- âœ¨ æ–°å¢ `biblatex` é€‰é¡¹ï¼Œæ”¯æŒç°ä»£å‚è€ƒæ–‡çŒ®å¤„ç†
- âœ¨ æ–°å¢å¤šç§å¼•ç”¨æ ·å¼é€‰é¡¹
- ğŸ”„ ä¿æŒå¯¹ä¼ ç»Ÿ `amsrefs` çš„å‘åå…¼å®¹æ€§
- âš¡ ä¼˜åŒ–å‚è€ƒæ–‡çŒ®é…ç½®å’Œå¼•ç”¨æ ¼å¼

### [v2.2.3]

- âœ¨ æ–°å¢ `nobib` é€‰é¡¹
- ğŸ§¹ ç§»é™¤å¤šä½™çš„å‚è€ƒæ–‡çŒ®å¯¼èˆª
- ğŸ”¤ é‡æ–°è®¾ç½®ä¸­æ–‡å­—ä½“ï¼Œæ”¯æŒMacå’ŒWindowsç³»ç»Ÿ
- ğŸ¨ é‡æ–°é…ç½®æ¨¡æ¿æ ‡é¢˜/æ­£æ–‡å­—ä½“

### [v2.2.2]

- âœ¨ æ–°å¢ä¸­æ–‡è‡ªå®šä¹‰å­—ä½“å‘½ä»¤

### [v2.2.1]

- ğŸ› ä¿®å¤ `\CJKunderwave` å…¼å®¹æ€§é—®é¢˜

### [v2.2.0]

- âœ¨ æ–°å¢ `subnav` é€‰é¡¹ï¼šåœ¨æ¯ä¸ªå­èŠ‚æ˜¾ç¤ºå¯¼èˆª
- ğŸ“– æ·»åŠ è§£å†³ `allowframebreaks` å’Œ `itemize` ç¯å¢ƒå†²çªçš„ç¤ºä¾‹
- ğŸ—‘ï¸ ç§»é™¤"Thanks!"é¡µé¢ï¼Œåº”ç”±æ¼”ç¤ºæ€»ç»“æ›¿ä»£

### [v2.1.0]

- ğŸ« æ–°å¢SJTUæ ‡å¿—æ”¯æŒ
- âœ¨ ä¸ºSJTUæ·»åŠ  `domc` é€‰é¡¹

### [v2.0.1]

- ğŸ“š æ–°å¢ç”¨æˆ·FAQ
- ğŸŒ æ ¹æ® `zh` æˆ– `en` æ¨¡å¼ä¿®æ”¹æœ€åä¸€å¸§çš„æ„Ÿè°¢å†…å®¹

### [v2.0.0]

- ğŸ”§ ä½¿ç”¨dtxç®¡ç†æ–‡æ¡£
- ğŸ—‘ï¸ ç§»é™¤xeCJKå­—ä½“è®¾ç½®ï¼ˆåº”ç”±ç”¨æˆ·è‡ªè¡Œé…ç½®ï¼‰

### [v1.2.0]

- ğŸŒ æ–°å¢ä¸­æ–‡æ”¯æŒé€‰é¡¹ï¼Œä½¿ç”¨ `zh` å¯ç”¨ä¸­æ–‡æ”¯æŒ
- ğŸ¨ æ–°å¢é»˜è®¤é¢œè‰²ä¸»é¢˜ï¼Œæ›´æ¥è¿‘USTCé¢œè‰²ï¼ˆä¸»è‰²è°ƒä¸ºè“è‰²ï¼‰

### [v 1.1.1]

1. add more example slides, which includes
 * auto pause in lists
 * two columns in a frame
 * include figure/subfigures in a frame
 * table
 * definition/example/theorem like environments
 * custom defn/examp/thm theorem like environments
 * hyperlinks between slides
2. add thanks before the references
3. user defined commands/environments should be written in `slides/usrdefn.tex`

#### [v 1.1.0]

1. new branch, add three color style:
 * `dark`: dark color style
 * `light`: light color style
 * the default is betwen the above two

#### [v 1.0.1]

1. add link to `slides/bib.bib`, so that you can open it in `WinEdt` by `Build Tree`
2. set the default font theme for math be `\usefonttheme{professionalfonts}`, which makes math formula looks more perfect
3. add `\newcommand{}{}` example and `\newtheorem{}{}` example

### Copyright and Licence

Copyright (C) 2016 by Van Abel <van141.abel@gmail.com>

This work may be distributed and/or modified under the
conditions of the LaTeX Project Public License, either version 1.3
of this license or (at your option) any later version.
The latest version of this license is in

http://www.latex-project.org/lppl.txt

and version 1.3 or later is part of all distributions of LaTeX
version 2005/12/01 or later.

    This work consists of the file: ustcmb.dtx 
             and the derived files: ustcmb.ins
                                    ustcmb.cls
                                    ustcmb.tex
                                    ustcmb.cfg
                                    beamercolorthemeustc.sty
                                    READEME.md (this file)
%</readme>
%<*internal>
\fi    
\def\nameoflatex{plain}
\ifx\nameoflatex\fmtname\else
  \expandafter\begingroup
\fi
%</internal>
%
%<*install>

\input docstrip.tex
\keepsilent

\preamble
----------------------------------------------------------------
    æ¨¡æ¿åç§°: ustcmb 
        æè¿°: ä¸­ç§‘å¤§æ•°å­¦æŠ¥å‘Šæ¨¡æ¿
    æ¨¡æ¿ç½‘å€: https://github.com/vanabel/mathbeamer
      ç‰ˆæœ¬å·: v2.2.3
        ä½œè€…: Van Abel
      E-mail: van141.abel@gmail.com
     License: LaTeX Project Public License v1.3c or later
 License URI: http://www.latex-project.org/lppl.txt
----------------------------------------------------------------

\endpreamble
\postamble

This is a generated file

Copyright (C) 2016 by Van Abel <van141.abel@gmail.com>

This work may be distributed and/or modified under the
conditions of the LaTeX Project Public License, either version 1.3
of this license or (at your option) any later version.
The latest version of this license is in

http://www.latex-project.org/lppl.txt

and version 1.3 or later is part of all distributions of LaTeX
version 2005/12/01 or later.

This work consists of the file ustcmb.dtx
and the derived files:
  ustcmb.ins
  ustcmb.cls
  ustcmb.tex
  ustcmb.cfg
  beamercolorthemeustc.sty

\endpostamble
\askforoverwritefalse
\generate{
  \usedir{tex/latex/ustcmb}
  \file{\jobname.cls}{\from{\jobname.dtx}{class}}
  \file{\jobname.cfg}{\from{\jobname.dtx}{cfg}}
  \file{beamercolorthemeustc.sty}{\from{\jobname.dtx}{ustc}}
  \nopreamble\nopostamble
  \usedir{doc/latex/ustcmb}
  \file{\jobname-main.tex}{\from{\jobname.dtx}{main}}
}
\obeyspaces
\Msg{****************************************************}
\Msg{*                                                   }
\Msg{* To finish the installation you have to move the   }
\Msg{* following file into a directory searched by TeX   }
\Msg{* e.g. tex/latex/ustcmb:                            }
\Msg{*                                                   }
\Msg{* \jobname.cls                                      }
\Msg{* \jobname.cfg                                      }
\Msg{* beamercolorthemeustc.sty                          }
\Msg{*                                                   }
\Msg{* To produce the documentation run the file         }
\Msg{* \jobname.dtx through XeLaTeX.                     }
\Msg{*                                                   }
\Msg{* To produce the sample file run the file           }
\Msg{* \jobname-main.tex through XeLaTeX and BibTeX      }
\Msg{*                                                   }
\Msg{* Happy TeXing!                                     }
\Msg{*                                                   }
\Msg{****************************************************}
%</install>
%<install>\endbatchfile
%
%<*internal>
\usedir{source/latex/ustcmb}
\generate{
  \file{\jobname.ins}{\from{\jobname.dtx}{install}}
}
% ^^A No extra text add by DocStrip
\nopreamble\nopostamble
\usedir{doc/latex/ustcmb}
\generate{
  \file{README.md}{\from{\jobname.dtx}{readme}}
}
% ^^A if xetex then end process of DocStrip by \endbatchfile
\ifx\nameoflatex\fmtname
  \expandafter\endbatchfile
\else
% ^^A for xelatex we close the group
  \expandafter\endgroup
\fi
%</internal>
%
%<*driver>
\ProvidesFile{\jobname.dtx}
%</driver>
%<class>\NeedsTeXFormat{LaTeX2e}[2005/12/01]
%<class>\ProvidesClass{ustcmb}
%<*class>
[2025/08/21 v2.2.4 ä¸­ç§‘å¤§æ•°å­¦æŠ¥å‘Šæ¨¡æ¿ç±»æ–‡ä»¶]
%</class>
%
%<*driver>
\documentclass{ltxdoc}
\usepackage{xeCJK}
\setCJKmainfont[AutoFakeBold, ItalicFont=STKaiti]{STSong}
\setCJKsansfont[AutoFakeBold, AutoFakeSlant]{STXihei}
\setCJKmonofont[AutoFakeBold, AutoFakeSlant]{STFangsong}
\setlength\parindent{0pt}
\usepackage{booktabs,tabularx}
\usepackage{metalogo}
\usepackage{hypdoc}
\hypersetup{
  bookmarksopen=true,
  bookmarksopenlevel=2,
  bookmarksnumbered=true,
  CJKbookmarks=true,
  unicode=true,
  allcolors=blue,
}
\usepackage{xcolor} % use lightgray
\usepackage[alphabetic, msc-links, lite, abbrev]{amsrefs}
\usepackage{listings}
\lstdefinestyle{lstshell}{
  basicstyle=\small\ttfamily,
  backgroundcolor=\color{red!75!black},
  gobble=2,% é‡è¦ï¼å¦åˆ™ä¼šç”Ÿæˆæ³¨é‡Šç¬¦å·"%"
language=bash}
\lstdefinestyle{lstlatex}{
  basicstyle=\small\ttfamily,
  frame=single,
  gobble=2,
language=[LaTeX]TeX}
\lstnewenvironment{shell}{\lstset{style=lstshell}}{}
\lstnewenvironment{latex}{\lstset{style=lstlatex}}{}
\newcommand\shellcmd[1]{ \underline{\texttt{#1}}}
\EnableCrossrefs
\CodelineIndex
%\OnlyDescription
% æ¨¡ä»¿ l3doc çš„å®šä¹‰
\DeclareRobustCommand\file{\nolinkurl}
\DeclareRobustCommand\env{\texttt}
\DeclareRobustCommand\pkg{\textsf}
\DeclareRobustCommand\cls{\textsf}
\DeclareRobustCommand\opt{\textbf}

\renewcommand\indexname{å‘½ä»¤ç´¢å¼•}
\IndexPrologue{%
  \section*{\indexname}
  \textit{æ–œä½“çš„æ•°å­—è¡¨ç¤ºæè¿°å¯¹åº”ç´¢å¼•é¡¹çš„é¡µç ;
    å¸¦ä¸‹åˆ’çº¿çš„æ•°å­—è¡¨ç¤ºå®šä¹‰å¯¹åº”ç´¢å¼•é¡¹çš„ä»£ç è¡Œå·;
  ç½—é©¬å­—ä½“çš„æ•°å­—è¡¨ç¤ºä½¿ç”¨å¯¹åº”ç´¢å¼•é¡¹çš„ä»£ç è¡Œå·ã€‚}
}
\RecordChanges
\def\glossaryname{ç‰ˆæœ¬å†å²}
\GlossaryPrologue{\section*{\glossaryname}}

\begin{document}
\DocInput{\jobname.dtx}
\renewcommand{\refname}{å‚è€ƒæ–‡çŒ®}
\begin{thebibliography}{9}
\bibitem{tantau2004user} 
Tantau, Till.
\textit{User's Guide to the Beamer Class, Version 3.01}. 
2004
\bibitem{xecjk2016manual}
CTEX.ORG.
\textit{xeCJKå®åŒ…æ‰‹å†Œ}.
2006
\end{thebibliography}
\PrintChanges
\PrintIndex
\end{document}
%</driver>
% \fi
%
%
% \CharacterTable
%  {Upper-case    \A\B\C\D\E\F\G\H\I\J\K\L\M\N\O\P\Q\R\S\T\U\V\W\X\Y\Z
%   Lower-case    \a\b\c\d\e\f\g\h\i\j\k\l\m\n\o\p\q\r\s\t\u\v\w\x\y\z
%   Digits        \0\1\2\3\4\5\6\7\8\9
%   Exclamation   \!     Double quote  \"     Hash (number) \#
%   Dollar        \$     Percent       \%     Ampersand     \&
%   Acute accent  \'     Left paren    \(     Right paren   \)
%   Asterisk      \*     Plus          \+     Comma         \,
%   Minus         \-     Point         \.     Solidus       \/
%   Colon         \:     Semicolon     \;     Less than     \<
%   Equals        \=     Greater than  \>     Question mark \?
%   Commercial at \@     Left bracket  \[     Backslash     \\
%   Right bracket \]     Circumflex    \^     Underscore    \_
%   Grave accent  \`     Left brace    \{     Vertical bar  \|
%   Right brace   \}     Tilde         \~}
% \changes{v2.2.4}{2025/08/21}{æ–°å¢\opt{biblatex}é€‰é¡¹ï¼Œæ”¯æŒç°ä»£å‚è€ƒæ–‡çŒ®å¤„ç†}
% \changes{v2.2.4}{2025/08/21}{æ–°å¢\opt{citemath}é€‰é¡¹ï¼Œæ”¯æŒæ•°å­¦è®ºæ–‡ä¸“ç”¨å¼•ç”¨æ ·å¼}
% \changes{v2.2.4}{2025/08/21}{ä¿æŒå¯¹ä¼ ç»Ÿ\pkg{amsrefs}çš„å‘åå…¼å®¹æ€§}
% \changes{v2.2.4}{2025/08/21}{ä¼˜åŒ–å‚è€ƒæ–‡çŒ®é…ç½®å’Œå¼•ç”¨æ ¼å¼}
% \changes{v2.2.3}{2018/06/03}{ç§»é™¤å¤šä½™çš„å‚è€ƒæ–‡çŒ®å¯¼èˆª}
% \changes{v2.2.3}{2018/06/03}{é‡æ–°è®¾ç½®ä¸­æ–‡å­—ä½“ï¼Œä½¿å¾—Macç³»ç»Ÿå’ŒWindowsç³»ç»Ÿéƒ½å¯ç”¨}
% \changes{v2.2.3}{2018/06/03}{æ–°å¢\shellcmd{nobib}é€‰é¡¹}
% \changes{v2.2.2}{2018/06/02}{æ–°å¢ä¸­æ–‡å­—ä½“å‘½ä»¤}
% \changes{v2.2.1}{2018/04/05}{ä¿®å¤\env{CJKunderwave}çš„ä¸å…¼å®¹æ€§}
% \changes{v2.2.0}{2017/11/29}{æ–°å¢å°èŠ‚å¯¼èˆªé€‰é¡¹\opt{subnav}}
% \changes{v2.2.0}{2017/11/29}{æ–°å¢ç¤ºä¾‹ï¼š\opt{allowframebreaks}ä¸\env{itemize}åˆ†æ­¥æ˜¾ç¤º}
% \changes{v2.2.0}{2017/11/29}{ç§»å‡ºè‡´è°¢é¡µ,å› ä¸ºåœ¨æŠ¥å‘Šç»“æŸåº”è¯¥å‘ˆç°ä¸€ä¸ªä½ æŠ¥å‘Šä¸»é¢˜çš„æ‘˜è¦è€Œéç®€å•çš„``è°¢è°¢''ä¸¤ä¸ªå­—}
% \changes{v2.1.0}{2017/11/07}{æ–°å¢ä¸Šæµ·äº¤å¤§å­¦é™¢ä¸å­¦æ ¡logo}
% \changes{v2.1.0}{2017/11/07}{æ–°å¢ç”¨æˆ·å¿«é€Ÿé…è‰², åªéœ€æ”¹å˜ä¸»é…è‰²\shellcmd{domc}çš„å€¼, è¯¦è§ç¤ºä¾‹æ–‡æ¡£\file{math-beamer.tex}}
% \changes{v2.0.1}{2017/04/30}{æä¾›ç”¨æˆ·ä½¿ç”¨FAQ}
% \changes{v2.0.1}{2017/04/30}{ä¿®æ”¹è‡´è°¢/Thanksä»¥åŒ¹é…è¯­è¨€}
% \changes{v2.0.0}{2016/12/14}{ä½¿ç”¨dtxç®¡ç†æ–‡æ¡£}
% \changes{v1.2.0}{2016/05/15}{Add chinese support option, just use `zh` to support chinese}
% \changes{v1.2.0}{2016/05/15}{Add default colortheme to be more like USTC color (blue in main)}
% \changes{v1.1.1}{2015/09/21}{Add more example slides}
% \changes{v1.1.1}{2015/09/21}{Add thanks before the references}
% \changes{v1.1.1}{2015/09/21}{Add user-defined commands/environments in \file{slides/usrdefn.tex}}
% \changes{v1.1.0}{2015/09/20}{New branch, add three color style}
% \changes{v1.0.1}{2015/09/20}{Add links supported by WinEdt Build Tree to \file{slides/bib.bib}}
% \changes{v1.0.1}{2015/09/20}{Add |newcommand| and |newtheorem| examples}
% \changes{v1.0.0}{2015/09/19}{Initial version}

% \GetFileInfo{\jobname.dtx}
%
% \DoNotIndex{\%,\#,\$,\%,\&,\@,\\,\{,\},\^,\_,\~,\ ,\[,\],\documentclass}
% \DoNotIndex{\@ne,\and,\author,\centerline,\date,\inst,\institute}
% \DoNotIndex{\definecolor,\decumentclass,\label,\newtheorem,\sc}
% \DoNotIndex{\setbeamercolor,\setbeamercovered,\setbeamertemplate}
% \DoNotIndex{\cite,\uwave,\cline,\eps,\epsilon,\geq}
% \DoNotIndex{\hline,\href,\item,\jobname,\lipsum,\lstinline}
% \DoNotIndex{\lstset,\small,\subsection,\textwidth,\ttfamily}
% \DoNotIndex{\tableofcontents, \setCJKmainfont,\setbeamerfont}
% \DoNotIndex{\setCJKmonofont,\setCJKsansfont,\subject,\subtitle}
% \DoNotIndex{\theoremstyle, \title, \titlepage, \usepackage}
% \DoNotIndex{\advance,\begingroup,\catcode,\closein}
% \DoNotIndex{\closeout,\day,\def,\edef,\else,\empty,\endgroup}
% \DoNotIndex{\addtobeamertemplate, \addtocounter}
% \DoNotIndex{\AtBeginDocument,\AtEndDocument,\AtEndOfClass}
% \DoNotIndex{\begin,\end,\bfseries,\bibliography}
% \DoNotIndex{\color,\CurrentOption,\DeclareOption,\fi,\frame}
% \DoNotIndex{\hfill,\hypersetup,\iftoggle,\includegraphics,\input}
% \DoNotIndex{\insertframenumber,\inserttotalframenumber}
% \DoNotIndex{\mode,\LARGE,\LoadClass,\necounter,\noewif,\nocite}
% \DoNotIndex{\numberwithin,\PassOptionsToClass,\pgfpagesuselayout}
% \DoNotIndex{\ProcessOptions, \providetoggle,\relax,\renewcommand}
% \DoNotIndex{\RequirePackage, \section, \setcounter, \toggletrue}
% \DoNotIndex{\value,\newcommand,\newif,\newcounter}
% \DoNotIndex{\ccwd,\caption,\captionsetup,\chapter,\ctexset}
% \DoNotIndex{\itemsep,\hangindent,\setfontsize,\setlength,\hdclindex}
% \DoNotIndex{\textbf,\newenvironment,\newcommand}
% \DoNotIndex{\n,\newCJKfontfamily,\AtBeginSubsection}
% \expandafter\DoNotIndex\expandafter{\string\&}
%
% \title{\textsf{ustcmb}ç±»ç”¨æˆ·æ‰‹å†Œ\thanks{è¿™æ˜¯
%   \textsf{ustcmb}~\fileversion çš„ç”¨æˆ·ä½¿ç”¨è¯´æ˜æ–‡æ¡£,
%   åˆ›å»ºäº \filedate.}}
% \author{Van Abel \\ \texttt{\small van141.abel@gmail.com}}
% \date{\filedate}
%
% \maketitle
% \def\abstractname{æ‘˜è¦}
% \begin{abstract}
%   \cls{ustcmb}æ˜¯æˆ‘å‡†å¤‡åšå£«è®ºæ–‡ç­”è¾©æ—¶åˆ¶ä½œçš„æ¨¡æ¿. å®ƒä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿æ•°å­¦
%   ä¸“ä¸šçš„åŒå­¦å†™æŠ¥å‘Š. å…¶ä¸­å®šä¹‰äº†å‡ ä¸ªé€‰é¡¹æ–¹ä¾¿å¿«é€Ÿå®ç°åŠŸèƒ½å®šåˆ¶, è€Œä¸”è¿˜é…
%   ç½®äº†ä¸USTCå­¦æ ¡ä¸»é¡µç›¸é€‚é…çš„ä¸»é¢˜ä»¥åŠæ˜¾ç¤ºå­¦æ ¡/å­¦é™¢Logo.
%
%   \cls{ustcmb.cls}æ–‡æ¡£ç±»åªæ”¯æŒ\XeLaTeX{}æ–¹å¼ç¼–è¯‘. æ¨¡æ¿æä¾›äº†ç¤ºä¾‹æ–‡ä»¶ \file{\jobname-main.tex}ä»¥åŠé…è‰²æ–‡ä»¶ \pkg{beamercolorthemeustc.sty}.
% \end{abstract}
% 
% \section{ç®€ä»‹}
% 
%   æœ¬æŠ¥å‘Šæ¨¡æ¿æ—¨åœ¨æ–¹ä¾¿å¤§å®¶è½»æ¾ä¸Šæ‰‹åˆ¶ä½œæŠ¥å‘Š. åœ¨ä¸€å®šç¨‹åº¦ä¸Šå®šåˆ¶æŠ¥å‘Šæ ¼å¼,
%   åº”å¤§å®¶è¦æ±‚è¿˜åŒæ—¶æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡. æ”¯æŒé€‰é¡¹å¦‚ä¸‹:
% \begin{table}[htbp]
%   \begin{tabular}{|l|p{.75\textwidth}|}
%     \hline
%     \opt{zh} & ä¸­æ–‡æ”¯æŒ(xeCJK) \\
%     \hline
%     \opt{logo} & ä½¿ç”¨å­¦æ ¡ä»¥åŠå­¦é™¢Logo \\
%     \hline
%     \opt{thmnum} & å®šç†ç¼–å·\\
%     \hline
%     \opt{eqsecnum} & å…¬å¼ä»¥èŠ‚ç¼–å·\\
%     \hline
%     \opt{subnav} & åœ¨æ¯å°èŠ‚å¼€å§‹æ˜¾ç¤ºå°èŠ‚å¯¼èˆª\\
%     \hline
%     \opt{authoryear} & ä½œè€…å¹´ä»£å‹æ–‡çŒ®å¼•ç”¨(amsrefs)\\
%     \hline
%     \opt{allcites} & è‡ªåŠ¨åˆ—å‡ºæ‰€æœ‰å‚è€ƒæ–‡çŒ®\\
%     \hline
%     \opt{biblatex} & ä½¿ç”¨ç°ä»£biblatexåŒ…æ›¿ä»£amsrefs\\
%     \hline

%     \hline


%     \opt{citemath} & biblatexæ•°å­¦è®ºæ–‡ä¸“ç”¨å¼•ç”¨æ ·å¼ï¼ˆéœ€è¦xstringåŒ…ï¼‰\\
%     \hline
%     \opt{nds} & ä¸ä½¿ç”¨é»˜è®¤è®¾ç½®\\
%     \hline
%     \opt{nobib} & ä¸åˆ—å‡ºå‚è€ƒæ–‡çŒ®\\
%     \hline
%     \opt{print} & æ‰“å°æ¨¡å¼\\
%     \hline
%   \end{tabular}
% \end{table}
% \section{æ¨¡æ¿ç”Ÿæˆä¸å®‰è£…} 
% æœ¬å‘è¡Œç‰ˆå·²ç»åŒ…å«æ‰€æœ‰çš„ç”Ÿæˆæ–‡ä»¶. æ‰€ä»¥, å¦‚æœæ‚¨å¯¹å¦‚ä½•ç”Ÿæˆæ¨¡æ¿æ–‡ä»¶
% ä¸æ„Ÿå…´è¶£, åˆ™å®Œå…¨å¯ä»¥è·³è¿‡è¿™ä¸€èŠ‚.
% 
% æ¨¡æ¿è§£å‹ç¼©åç”Ÿæˆæ–‡ä»¶å¤¹ \file{ustcmb-vN.M}, å…¶ä¸­ \file{vN.M} ä¸ºç‰ˆæœ¬å·. 
% è¯¥æ–‡ä»¶å¤¹åŒ…å«ä»¥ä¸‹æ–‡ä»¶
% \begin{itemize}
%  \item \file{ustcmb.dtx}: æ¨¡æ¿æ–‡æ¡£æºæ–‡ä»¶
%  \item \file{ustcmb.tex}: æ¨¡æ¿ç¤ºä¾‹æ–‡ä»¶
%  \item \cls{ustcmb.cls}: æ¨¡æ¿ç±»æ–‡ä»¶
%  \item \file{ustcmb.cfg}: è‹±æ–‡/ä¸­æ–‡å®šç†é…ç½®æ–‡ä»¶
%  \item \pkg{beamercolorthemeustc.sty}: æ¨¡æ¿é…è‰²æ–‡ä»¶
% \end{itemize}
% Linux/Macç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨ GNU make å·¥å…·, 
% Windowsç”¨æˆ·å»ºè®®å®‰è£… \href{https://www.cygwin.com/}{Cygwin}
% ç„¶ååŒæ ·ä½¿ç”¨ GUN make å·¥å…·.
% \begin{itemize}
%  \item ç¼–è¯‘æ–‡æ¡£\shellcmd{make doc}
%  \item ç¼–è¯‘ç¤ºä¾‹æ–‡ä»¶\shellcmd{make main}
%  \item å®‰è£…æ¨¡æ¿åˆ°TeXç³»ç»Ÿ\shellcmd{make inst}
%  \item ä»¥ç®¡ç†å‘˜æ–¹å¼å®‰è£…æ¨¡æ¿åˆ°TeXç³»ç»Ÿ\shellcmd{make install}
%  \item ä»TeXç³»ç»Ÿå¸è½½æ¨¡æ¿\shellcmd{make uninst}
%  \item ä»¥ç®¡ç†å‘˜æ–¹å¼ä»TeXç³»ç»Ÿå¸è½½æ¨¡æ¿\shellcmd{make uninstall}
%  \item æ¸…ç©ºä¸´æ—¶æ–‡ä»¶\shellcmd{make clean}
%  \item æ¸…ç©ºæ‰€æœ‰ç”Ÿæˆæ–‡ä»¶\shellcmd{make distclean}
%  \item æ‰“åŒ…æ–‡ä»¶ä»¥å‘å¸ƒ\shellcmd{make zip}
% \end{itemize}
% \section{ä½¿ç”¨æ‰‹å†Œ}
% è¿™èŠ‚ä¸»è¦è®²ä¸€è®²æ”¯æŒçš„é€‰é¡¹. 
% \subsection{ä¸­æ–‡æ”¯æŒ}
% ä¸­æ–‡é‡‡ç”¨çš„æ˜¯ \pkg{xeCJK} æ–¹æ¡ˆ, ä½¿ç”¨æ—¶åªéœ€æ·»åŠ  \opt{zh} é€‰é¡¹å³å¯.
% 
% éœ€è¦æ³¨æ„çš„æ˜¯, é»˜è®¤çŠ¶æ€ä¸‹\texttt{å¹¶æ²¡æœ‰é…ç½®ä»»ä½•ä¸­æ–‡å­—ä½“}. 
% æ•…å¯èƒ½äº§ç”Ÿä»¥ä¸‹é—®é¢˜:
% \begin{itemize}
%   \item åœ¨æ—§ç‰ˆæœ¬çš„\pkg{xeCJK} ä¸­ç¼–è¯‘ä¸é€šè¿‡(å› ä¸ºæ²¡æœ‰é»˜è®¤é…ç½®å­—ä½“). 
%     æ­¤æ—¶éœ€è¦å‡çº§ \pkg{xeCJK} åŒ…å³å¯.
%   \item \pkg{xeCJK} é»˜è®¤çš„å­—ä½“æ˜¯é»‘ä½“, ä¹Ÿè®¸ä¸é€‚ç”¨äºæ­£å¼åœºåˆ. 
%   \item å¦‚ä½•æŸ¥çœ‹ä»¥åŠä½¿ç”¨å­—ä½“, è¯·å‚è€ƒ\cite[p.~8, 3.2.1èŠ‚]
%     {xecjk2016manual}. ä¾‹å¦‚ä½ å¯ä»¥åœ¨å¯¼è¨€åŒºåŠ å…¥
%   \begin{latex}	    
%     \setCJKmainfont[AutoFakeSlant, AutoFakeBold]{SimSun}
%     \setCJKmonofont[AutoFakeSlant, AutoFakeBold]{FangSong}
%     \setCJKsansfont[AutoFakeSlant, AutoFakeBold]{KaiTi}
%   \end{latex}
%   å¦‚æœä½ è¦ä½¿ç”¨é»‘ä½“ä¸ºæ­£æ–‡å­—ä½“ï¼Œåªéœ€å°†ä¸Šè¿°å‘½ä»¤ä¿®æ”¹ä¸º
%   \begin{latex}
%     \setCJKmainfont[AutoFakeSlant, AutoFakeBold]{SimHei}
%   \end{latex}
% \end{itemize}
% æ­¤å¤–ï¼Œåœ¨v2.2.2ç‰ˆä¸­ï¼Œè¿˜å¢åŠ äº†ä¸€äº›é»˜è®¤çš„å­—ä½“å‘½ä»¤ï¼Œä½†æ˜¯è¿™äº›å­—ä½“é»˜è®¤éƒ½æ²¡æœ‰å¯ç”¨ï¼Œè¦ä½¿ç”¨è¿™äº›å­—ä½“å‘½ä»¤ï¼Œ
% è¯·è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š
% \begin{enumerate}
%   \item æ‰“å¼€æ ¹ç›®å½•ä¸‹çš„\file{ustcmb.cfg}, å»æ‰ä½ æƒ³è¦ä½¿ç”¨çš„å­—ä½“å‰çš„ä¸¤ä¸ªç™¾åˆ†å·ï¼Œä¾‹å¦‚
%     \begin{latex}
% %%  å¾®è½¯é›…é»‘
% %%  \newCJKfontfamily[yhei]\yhei{Microsoft YaHei}
%     \end{latex}
%   \item åœ¨\file{ustcmb-main.tex}çš„æ­£æ–‡ä¸­ä½¿ç”¨(å½“ç„¶ä½ å¾—ç¡®ä¿ç³»ç»Ÿç”±å¾®è½¯é›…é»‘å­—ä½“)
%     \begin{latex}
% æ­£æ–‡{\yhei è¿™æ˜¯é›…é»‘}æ­£æ–‡
%     \end{latex}
% \end{enumerate}
% \begin{figure}[htbp]
%   \centering
%   \caption{å®Œæ•´çš„å­—ä½“åˆ—è¡¨ä¸æ•ˆæœ}
%   \includegraphics{figs/winfonts.png}
% \end{figure}
% \subsection{å­¦æ ¡é…è‰²ä¸Logo}
% \subsubsection{é…è‰²}
% å­¦æ ¡çš„é…è‰²ç¤ºä¾‹æ–‡ä»¶åœ¨ \pkg{beamercolorthemeustc.sty}, è‡ªå·±å¯ä»¥ä»¿ç…§é…ç½®æ¨¡æ¿
% é¢œè‰².
% \subsubsection{Logo}
%   ä½ å¯ä»¥ä½¿ç”¨ \opt{logo} é€‰é¡¹æ¥åœ¨æŠ¥å‘Šé¦–é¡µç”Ÿæˆå­¦æ ¡å’Œå­¦é™¢çš„logo. 
%   å­¦æ ¡ä¸å­¦é™¢çš„Logoéƒ½æ”¾åœ¨ \file{logo/} ç›®å½•ä¸‹. 
%   è¿™ä¸ªå¯¹ä¸åŒå­¦æ ¡è€Œè¨€å½“ç„¶æ˜¯ä¸åŒ
%   çš„, å¦‚æœä½ è¦ä½¿ç”¨è‡ªå·±å­¦æ ¡çš„logo, è¯·æ³¨æ„ä»¥ä¸‹
%   \begin{itemize}
%     \item ä¸¤ä¸ªlogoçš„é«˜åº¦éƒ½ä¸º \opt{1cm}, è€Œä¸”éƒ½æ²¡æœ‰èƒŒæ™¯
%	æ ¼å¼ä¸ºpdf. è¯·ä½¿ç”¨å›¾åƒå¤„ç†è½¯ä»¶(GIMP)å¤„ç†;
%     \item å›¾æ ‡çš„é¢œè‰²åº”è¯¥å’Œæ•´ä¸ªæ¨¡æ¿çš„é…è‰²åè°ƒ. æ•…ä½ è¦ä¹ˆæ›´æ”¹å›¾æ ‡çš„é¢œè‰²,%       è¦ä¹ˆæ›´æ”¹æœ¬æ¨¡æ¿çš„é…è‰²;
%     \item æœ€åä½ è¿˜éœ€è¦æ£€æŸ¥èƒŒæ™¯è‰²å’Œå‰æ™¯è‰²çš„é…åˆæ˜¯å¦å…·æœ‰é«˜å¯¹æ¯”åº¦(å­—ä½“èƒ½
%	çœ‹æ¸…), æˆ‘ä½¿ç”¨çš„æ˜¯\href{http://contrastchecker.com/}
%	{Contrast Checker}.
%   \end{itemize}
% \subsection{å®šç†ç¯å¢ƒçš„ä½¿ç”¨}
% \subsubsection{è‡ªå¸¦å®šç†ç¯å¢ƒ}
% \pkg{beamer} è‡ªèº«å·²ç»å®šä¹‰äº†å®šç†ç¯å¢ƒ\cite{tantau2004user}*{p.~193}: 
% \env{theorem}, \env{lemma}, \env{definition},
% \env{corollary}, \env{example}, 
% \env{proposition}(å¥½åƒæˆ‘ä¸èƒ½ä½¿ç”¨ \env{proposition})
% \begin{latex}
%   \begin{theorem}[å‹¾è‚¡å®šç†]
%     å‡è®¾$a,b,c$æ˜¯ç›´è§’ä¸‰è§’å½¢çš„ä¸‰è¾¹, ä¸”$c>a\geq b>0$, åˆ™
%     \[
%	a^a+b^2=c^2.
%     \]
%   \end{theorem}
% \end{latex}
% \subsubsection{é¢„å®šä¹‰å®šç†ç¯å¢ƒ}
% é™¤äº†beameré»˜è®¤å®šä¹‰çš„å®šç†ç¯å¢ƒ, æœ¬æ¨¡æ¿è¿˜è‡ªå¸¦å®šä¹‰äº†ä¸€äº›å®šç†ç¯å¢ƒ,
% å…·ä½“è¯·å‚è€ƒé…ç½®æ–‡ä»¶: \file{ustcmb.cfg}.
%
% è¿™é‡Œä¸¾ä¾‹å¦‚ä¸‹
% \begin{latex}
%  \begin{thm}[å‹¾è‚¡å®šç†]
%     å‡è®¾$a,b,c$æ˜¯ç›´è§’ä¸‰è§’å½¢çš„ä¸‰è¾¹, ä¸”$c>a\geq b>0$, åˆ™
%     \[
%	a^a+b^2=c^2.
%     \]
%   \end{thm}
% \end{latex}
% \subsubsection{å®šç†ç¯å¢ƒçš„å˜å¼}
% å®šç†ç¯å¢ƒæœ‰ä¸¤ä¸ªå˜å¼, å³ \env{Block} ä¸ \env{AlertBlock}. ç¤ºä¾‹å¦‚ä¸‹:
% \begin{latex}
%   \begin{block}{Block Title}
%     Blockç¤ºä¾‹
%   \end{block}
%   \begin{alertblock}
%     AlertBlockç¤ºä¾‹
%   \end{alertblock}
% \end{latex}
% \subsubsection{é•¿å®šç†çš„å†™æ³•}
% åœ¨å®é™…å†™ä½œä¸­, æˆ‘ä»¬å¯èƒ½é‡åˆ°ä¸€ä¸ªå®šç†å¤ªé•¿, éœ€è¦åˆ†ä¸¤ä¸ª \env{frame} æ¥å†™.
% æ­¤æ—¶å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„ä¾‹å­æ¥æ‰‹åŠ¨åˆ†é¡µ:
% \begin{latex}
%   \begin{thm}
%     é•¿å®šç†çš„å†…å®¹, è¶…è¿‡ä¸€é¡µ
%   \end{thm}
%   \adtocounter{thm}{-1}
%   \begin{thm}[Cont.]
%     é•¿å®šç†è¶…è¿‡ä¸€é¡µçš„éƒ¨åˆ†
%   \end{thm}
% \end{latex}
% è¿™é‡Œçš„è¦ç‚¹æ˜¯é€šè¿‡é‡ç½® \env{thm} çš„ç¼–å·æ¥å®ç°å®šç†ç¼–å·çš„æ­£ç¡®.
% \subsection{è‡ªåŠ¨åˆ†é¡µä¸\env{itemize}çš„åˆ†æ­¥æ˜¾ç¤º}
% æˆ‘ä»¬çŸ¥é“, å¯ä»¥å¯¹\env{frame}ä½¿ç”¨é€‰é¡¹\opt{allowframebreaks}æ¥è‡ªåŠ¨åˆ†é¡µã€‚
% ä½†æ˜¯è¿™ç§æ–¹æ³•ä¼šä½¿å¾—åˆ†æ­¥æ˜¾ç¤ºæ— æ•ˆã€‚è§£å†³åŠæ³•æ˜¯ä½¿ç”¨coverï¼š
% \begin{latex}
%   \begin{frame}[<+->]{è‡ªåŠ¨åˆ†é¡µä¸åˆ†æ­¥æ˜¾ç¤º}
%     \begin{onlyenv}<1>
%       ç¬¬ä¸€é¡µå†…å®¹
%     \end{onlyenv}
%     \begin{onlyenv}<2->
%       ç¬¬äºŒé¡µæ”¾ç½®ä¸€ä¸ªåˆ—è¡¨
%       \begin{itemize}[<+(1)->]
%         \item ç¬¬ä¸€é¡¹
%         \item ç¬¬äºŒé¡¹
%       \end{itemize}
%       æˆ‘ä»¬åº”è¯¥æ³¨æ„åˆ°\opt{(+1)}, å®ƒè¡¨ç¤ºå°†æš‚åœè®¡æ•°å™¨(beamerpause)
%       åŠ 1, ä»è€Œç¬¬ä¸€é¡¹åœ¨ç¬¬äºŒå¸§æ˜¾ç¤º, è€Œç¬¬äºŒé¡¹åœ¨ç¬¬3å¸§æ˜¾ç¤º.
%     \end{onlyenv}
%   \end{frame} 
% \end{latex}
% \subsection{æ‰“å°æ¨¡å¼}
% æœ¬æ¨¡æ¿æä¾›äº†æ–¹ä¾¿æ‰“å°slideçš„æ¨¡å¼ \opt{print}, ä½¿ç”¨è¯¥æ¨¡å¼ä¼šä½œå¦‚ä¸‹æ”¹å˜
% \begin{itemize}
%   \item ä¸»é¢˜é¢œè‰²è®¾ç½®ç°è‰², å¹¶ä¸”å¸¦æœ‰ç°åº¦èƒŒæ™¯, æ–¹ä¾¿æŸ¥çœ‹æ˜¯å¦è¶…å‡ºè¾¹è·;
%   \item 4å¼ å¹»ç¯ç‰‡æ”¾åˆ°ä¸€é¡µA4(æ¨ªå‘)çº¸ä¸Š;
%   \item åŒä¸€ä¸ªframeä¸­çš„å¤šä¸ªé®ç½©(overlay)ä¼šåˆå¹¶åˆ°ä¸€é¡µæ‰“å°;
%   \item ç”±äºé»˜è®¤ä½¿ç”¨çš„æ˜¯ \opt{handout} æ¨¡å¼æ¥æ‰“å°, å‚è€ƒæ–‡çŒ®åˆ—è¡¨ä¸ä¼šæ‰“å°.
% \end{itemize}
% \subsection{åé¦ˆ}
% éå¸¸æ„Ÿè°¢ä½ ä½¿ç”¨æœ¬æ¨¡æ¿, è‹¥ä½ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰ä»»ä½•ç–‘é—®/å»ºè®®. 
% è¯·ä¸è¦åå•¬, å°†å…¶åé¦ˆåˆ°æ¨¡æ¿
% \href{https://github.com/vanabel/mathbeamer/issues}{å‘å¸ƒä¸»é¡µ}.
%
% æ­¤å¤–ä½ è¿˜å¯ä»¥åŠ å…¥QQç¾¤\href{https://goo.gl/i1kcwe}{LaTeXè®¨è®ºåŒº}.
% \StopEventually{}
% \section{ç±»æ–‡ä»¶æºç }
%    \begin{macrocode}
%<*class>
%    \end{macrocode}
% \subsection{å®åŒ…ä¾èµ–}
% ä½¿ç”¨ \pkg{etoolbox} æ¥è®¾ç½®å¯ç”¨/ç¦ç”¨é€‰é¡¹
%    \begin{macrocode}
\RequirePackage{etoolbox}
\RequirePackage{xcolor}
%    \end{macrocode}
% æ•°å­¦å®šç†ä¸å­—ä½“æ”¯æŒ
%    \begin{macrocode}
\RequirePackage{mathtools, bm}
%    \end{macrocode}
% è‹±æ–‡æ–­è¡Œ
%    \begin{macrocode}
\RequirePackage[english]{babel}
%    \end{macrocode}
% è¶…é“¾æ¥
%    \begin{macrocode}
\AtBeginDocument{
  \RequirePackage{hyperref}
  \hypersetup{
    pdfpagemode=FullScreen,
    bookmarksopen=false,
    pdfencoding=auto,
    colorlinks=true,
    %ocgcolorlinks,
    %pdfusetitle
  }
}
%    \end{macrocode}
% \subsection{é€‰é¡¹ç”³æ˜}
% \opt{print}é€‰é¡¹: ç¼–è¯‘æ‰“å°ç‰ˆæœ¬
%    \begin{macrocode}
\providetoggle{print}
\DeclareOption{print}{\toggletrue{print}}
%    \end{macrocode}
% \opt{nds}é€‰é¡¹: ä¸å¯ç”¨é»˜è®¤è®¾ç½®
%    \begin{macrocode}
\newif\ifMB@nds\MB@ndsfalse
\DeclareOption{nds}{\MB@ndstrue}
%    \end{macrocode}
% \opt{thmnum}é€‰é¡¹: å®šç†æœ‰ç¼–å·
%    \begin{macrocode}
\newif\ifMB@thmnum\MB@thmnumfalse
\DeclareOption{thmnum}{\MB@thmnumtrue}
%    \end{macrocode}
% \opt{subnav}é€‰é¡¹ï¼šæ’å…¥å°èŠ‚å¯¼èˆª
%    \begin{macrocode}
\newif\ifMB@subnav\MB@subnavfalse
\DeclareOption{subnav}{\MB@subnavtrue}
%    \end{macrocode}
% \opt{eqsecnum}é€‰é¡¹: ä»¥èŠ‚ç¼–å·å…¬å¼
%    \begin{macrocode}
\newif\ifMB@eqsecnum\MB@eqsecnumfalse
\DeclareOption{eqsecnum}{\MB@eqsecnumtrue}
%    \end{macrocode}
% \opt{authoryear}é€‰é¡¹: ä½œè€…å¹´ä»£(bibtex)å¼•ç”¨æ–¹å¼
%    \begin{macrocode}
\newif\ifMB@authoryear\MB@authoryearfalse
\DeclareOption{authoryear}{\MB@authoryeartrue}
%    \end{macrocode}
% \opt{allcite}é€‰é¡¹: åˆ—å‡ºæ‰€æœ‰å‚è€ƒæ–‡çŒ®
%    \begin{macrocode}
\newif\ifMB@allcites\MB@allcitesfalse
\DeclareOption{allcites}{\MB@allcitestrue}
%    \end{macrocode}
% \opt{nobib}é€‰é¡¹: å»æ‰å‚è€ƒæ–‡çŒ®åˆ—è¡¨
%    \begin{macrocode}
\newif\ifMB@nobib\MB@nobibfalse
\DeclareOption{nobib}{\MB@nobibtrue}
%    \end{macrocode}
% \opt{biblatex}é€‰é¡¹: ä½¿ç”¨ç°ä»£biblatexåŒ…æ›¿ä»£amsrefs
%    \begin{macrocode}
\newif\ifMB@biblatex\MB@biblatexfalse
\DeclareOption{biblatex}{\MB@biblatextrue}
%    \end{macrocode}





% \opt{citemath}é€‰é¡¹: biblatexçš„æ•°å­¦è®ºæ–‡ä¸“ç”¨å¼•ç”¨æ ·å¼ï¼ˆéœ€è¦xstringåŒ…ï¼‰
%    \begin{macrocode}
\newif\ifMB@citemath\MB@citemathfalse
\DeclareOption{citemath}{\MB@citemathtrue}
%    \end{macrocode}

% \opt{zh}é€‰é¡¹: ä¸­æ–‡æ¨¡å¼
%    \begin{macrocode}
\DeclareOption{zh}{\MB@zhtrue}
\newif\ifMB@zh\MB@zhfalse
%    \end{macrocode}
% \opt{logo}é€‰é¡¹: ä½¿ç”¨logo
%    \begin{macrocode}
\DeclareOption{logo}{\MB@logotrue}
\newif\ifMB@logo\MB@logofalse
%    \end{macrocode}
% ä¼ é€’å‚æ•°
%    \begin{macrocode}
\DeclareOption*{\PassOptionsToClass{\CurrentOption}{beamer}}
\ProcessOptions\relax
%    \end{macrocode}
% æä¾›æ ‡å‡†çš„ç±»å£°æ˜
%    \begin{macrocode}
\ProvidesClass{ustcmb}[2025/08/21 v2.2.4 USTC Math Beamer Template]
%    \end{macrocode}
% \subsection{åŸºäºæ¨¡å¼åŠ è½½æ–‡æ¡£ç±»}
% å¦‚æœæ˜¯æ‰“å°(\opt{print})æ¨¡å¼
%    \begin{macrocode}
\iftoggle{print}{
  \LoadClass[handout, nds]{beamer}
  \RequirePackage{pgfpages}
  \pgfpagesuselayout{4 on 1}[a4paper,border shrink=5mm,landscape]
  \mode<handout>{\setbeamercolor{background canvas}{bg=black!5}}
}
%    \end{macrocode}
% å¦åˆ™æ˜¯æŠ¥å‘Šæ¨¡å¼, ç”ŸæˆæŠ¥å‘Š
%    \begin{macrocode}
{
  \LoadClass{beamer}
}
%    \end{macrocode}
% \subsection{é€‰é¡¹å®ç°}
% \opt{zh}é€‰é¡¹: è¡¨ç¤ºä½¿ç”¨ä¸­æ–‡æ¨¡å¼
%    \begin{macrocode}
\ifMB@zh
%    \end{macrocode}
% xecjk å­—ä½“å¼•æ“
%    \begin{macrocode}
\RequirePackage{fontspec}
\RequirePackage{xunicode,xltxtra}
\RequirePackage[slantfont, boldfont, LocalConfig]{xeCJK}
%    \end{macrocode}
%% ä¸­æ–‡æ¨¡å¼ä¸‹å­—ä½“é…ç½®, ä¸»è¦æ›´æ”¹äº†æ ‡é¢˜(title)/å¸§æ ‡é¢˜(frametitle)/æ­£æ–‡(normal text). å…¶ä»–ç»“æ„çš„ä¿®æ”¹å¯ä»¥å‚è€ƒ\href{http://www.cpt.univ-mrs.fr/~masson/latex/Beamer-appearance-cheat-sheet.pdf}{Beamer appearance cheat sheet}.
%    \begin{macrocode}
\ifMB@zh
\setbeamerfont*{title}{family=\sffamily, shape=\scshape, series=\bfseries, size=\LARGE}
\setbeamerfont{frametitle}{family=\sffamily, shape=\upshape, series=\bfseries}
\setbeamerfont{normal text}{family=\rmfamily, shape=\upshape, series=\mdseries}
\AtBeginDocument{\usebeamerfont{normal text}}
\fi
%    \end{macrocode}
%% ä¸­æ–‡å¼ºè°ƒ
%    \begin{macrocode}
\RequirePackage{ulem}
\AtEndOfClass{\input{ustcmb.cfg}}
\fi
%    \end{macrocode}
% \opt{logo}é€‰é¡¹: è¡¨ç¤ºä½¿ç”¨å­¦æ ¡/å­¦é™¢logo
%    \begin{macrocode}
\ifMB@logo\AtEndOfClass{
  \addtobeamertemplate{title page}{
    \includegraphics[height=1cm]{logo/univ_logo} \hfill %
    \includegraphics[height=1cm]{logo/institute_logo}
  }{%
    %
  }
}
\fi
%    \end{macrocode}
% å‚è€ƒæ–‡çŒ®å¤„ç†: æ”¯æŒamsrefså’Œç°ä»£biblatex
% - amsrefs: é»˜è®¤alphabeticæ ·å¼ï¼Œå¯é€‰authoryearæ ·å¼
% - biblatex: é»˜è®¤alphabeticæ ·å¼ï¼Œå¯é€‰authoryearæ ·å¼ï¼ˆé€šè¿‡biblatex,authoryearç»„åˆï¼‰
%    \begin{macrocode}
\ifMB@biblatex
  % ä½¿ç”¨ç°ä»£biblatexåŒ…
  % åŠ è½½å¿…è¦çš„åŒ…ä»¥æ”¯æŒamsrefså…¼å®¹å±‚
  \RequirePackage{etoolbox}
  \ifMB@citemath
    \RequirePackage[backend=biber,style=authoryear,citestyle=authoryear,url=false,doi=false,isbn=false]{biblatex}
  \else
    \ifMB@authoryear
      % å¦‚æœåŒæ—¶æŒ‡å®šbiblatexå’Œauthoryearï¼Œä½¿ç”¨biblatexçš„authoryearæ ·å¼
      \RequirePackage[backend=biber,style=authoryear,citestyle=authoryear,url=false,doi=false,isbn=false]{biblatex}
      % ç¡®ä¿å¼•ç”¨æ ‡ç­¾ä½¿ç”¨ä½œè€…-å¹´ä»½æ ¼å¼
      \ExecuteBibliographyOptions{labeldate=true,uniquelist=false}
    \else
      % é»˜è®¤ä½¿ç”¨alphabeticæ ·å¼ï¼ˆä¸amsrefsä¿æŒä¸€è‡´ï¼‰
      \RequirePackage[backend=biber,style=alphabetic,citestyle=alphabetic,url=false,doi=false,isbn=false]{biblatex}
    \fi
  \fi
  % åœ¨åŒ…åŠ è½½åé…ç½®ä½œè€…åç§°æ ¼å¼
  \ExecuteBibliographyOptions{maxcitenames=999,mincitenames=1,uniquelist=false,uniquename=init,giveninits=true}
  
  % å¦‚æœä½¿ç”¨authoryearæ ·å¼ï¼Œç¡®ä¿å¼•ç”¨æ ‡ç­¾ä¹Ÿæ˜¯ä½œè€…-å¹´ä»½æ ¼å¼
  \ifMB@authoryear
    % é…ç½®authoryearæ ·å¼çš„å¼•ç”¨æ ‡ç­¾
    \DeclareFieldFormat{year}{\mkbibparens{#1}}
    \renewcommand*{\multicitedelim}{\addsemicolon\space}
    \renewcommand*{\compcitedelim}{\addcomma\space}
    % åœ¨ä½œè€…å’Œå¹´ä»½ä¹‹é—´æ·»åŠ é€—å·å’Œç©ºæ ¼
    \renewcommand*{\nameyeardelim}{\addcomma\space}
    
    % è®¾ç½®å­—æ®µæ ¼å¼ï¼ˆç±»ä¼¼amsrefsé£æ ¼ï¼‰
    \DeclareFieldFormat{title}{\emph{#1}}
    \DeclareFieldFormat{journal}{#1}
    \DeclareFieldFormat{volume}{\textbf{#1}}
    \DeclareFieldFormat{pages}{#1}
    \DeclareFieldFormat{doi}{#1}
    \DeclareFieldFormat{url}{#1}
    \DeclareFieldFormat{isbn}{#1}
    \DeclareFieldFormat{issn}{#1}
    
    % ç§»é™¤æ ‡é¢˜çš„å¼•å·ï¼Œä½¿ç”¨æ–œä½“
    \DeclareFieldFormat{title}{\emph{#1}}
    \DeclareFieldFormat{journaltitle}{#1}
    
    % ç§»é™¤æœŸåˆŠåç§°çš„ä¸‹åˆ’çº¿
    \DeclareFieldFormat{journal}{#1}
    \DeclareFieldFormat{journaltitle}{#1}
    
    % ç¡®ä¿æœŸåˆŠåç§°æ²¡æœ‰ä¸‹åˆ’çº¿ï¼ˆè¦†ç›–é»˜è®¤æ ·å¼ï¼‰
    % æ³¨æ„ï¼šè¿™äº›å‘½ä»¤å¯èƒ½ä¸æ˜¯æ ‡å‡†çš„ biblatex å‘½ä»¤ï¼Œä½†å°è¯•è¦†ç›–å¯èƒ½çš„
    
    % ç§»é™¤æ ‡é¢˜çš„å¼•å·
    \renewcommand*{\mkbibquote}[1]{#1}
    \renewcommand*{\mkbibemph}[1]{#1}
  \else
    % é…ç½®alphabeticæ ·å¼çš„å¼•ç”¨æ ‡ç­¾
    \DeclareFieldFormat{year}{\mkbibparens{#1}}
    \renewcommand*{\multicitedelim}{\addsemicolon\space}
    \renewcommand*{\compcitedelim}{\addcomma\space}
  \fi
  
  % ç¡®ä¿biblatexå®Œå…¨åˆå§‹åŒ–
  \AtEndOfClass{\ExecuteBibliographyOptions{maxcitenames=999,mincitenames=1,uniquelist=false,uniquename=init,giveninits=true}}
  
  % æ•°å­¦è®ºæ–‡ä¸“ç”¨å¼•ç”¨æ ·å¼é…ç½®
  \ifMB@citemath
    % åŠ è½½ xstring åŒ…ï¼ˆç”¨äºå¹´ä»½å¤„ç†ï¼‰
    \RequirePackage{xstring}
    
    % è‡ªå®šä¹‰å‚è€ƒæ–‡çŒ®æ ‡é¢˜æ ·å¼
    \defbibheading{mybib}[\refname]{}
    \DeclarePrintbibliographyDefaults{heading=mybib}
    
    % ç§»é™¤ä¸å¿…è¦çš„è¶…é“¾æ¥å’Œä¸‹åˆ’çº¿ï¼Œä½†ä¿æŒå¼•ç”¨è¶…é“¾æ¥
    \renewcommand*{\mkbibnamefamily}[1]{\bibhyperref{#1}}
    \renewcommand*{\mkbibnamegiven}[1]{#1}
    \renewcommand*{\mkbibnamesuffix}[1]{#1}
    \renewcommand*{\mkbibnameprefix}[1]{#1}
    \renewcommand*{\nameyeardelim}{\space}
    
    % ä½œè€…æ ¼å¼ï¼šæ˜¾ç¤ºåå­—é¦–å­—æ¯ç¼©å†™å’Œå§“æ°ï¼Œç”¨è¿å­—ç¬¦åˆ†éš”
    \DeclareNameAlias{labelname}{given-family}
    \DeclareNameAlias{sortname}{family-given}
    
    % ä½¿ç”¨è¿å­—ç¬¦åˆ†éš”å¤šä¸ªä½œè€…
    \DeclareDelimFormat{multinamedelim}{-}
    \DeclareDelimFormat{finalnamedelim}{-}
    
    % å¹´ä»½æ ¼å¼ï¼šä¸¤ä½æ•°åŠ æ’‡å· (81')
    \DeclareFieldFormat{year}{%
      \IfInteger{#1}%
        {%
          \StrRight{#1}{2}[\yeartwo]%
          \yeartwo$'$%
        }%
        {#1}%
    }
    
    % è®¾ç½®å­—æ®µæ ¼å¼ï¼ˆç±»ä¼¼amsrefsé£æ ¼ï¼‰
    \DeclareFieldFormat{title}{\emph{#1}}
    \DeclareFieldFormat{journal}{#1}
    \DeclareFieldFormat{volume}{\textbf{#1}}
    \DeclareFieldFormat{pages}{#1}
    \DeclareFieldFormat{doi}{#1}
    \DeclareFieldFormat{url}{#1}
    \DeclareFieldFormat{isbn}{#1}
    \DeclareFieldFormat{issn}{#1}
    
    % ç§»é™¤æœŸåˆŠåç§°çš„ä¸‹åˆ’çº¿
    \DeclareFieldFormat{journal}{#1}
    \DeclareFieldFormat{journaltitle}{#1}
    
    % ç¡®ä¿æœŸåˆŠåç§°æ²¡æœ‰ä¸‹åˆ’çº¿ï¼ˆè¦†ç›–é»˜è®¤æ ·å¼ï¼‰
    % æ³¨æ„ï¼šè¿™äº›å‘½ä»¤å¯èƒ½ä¸æ˜¯æ ‡å‡†çš„ biblatex å‘½ä»¤ï¼Œä½†å°è¯•è¦†ç›–å¯èƒ½çš„é»˜è®¤è¡Œä¸º
    
    % \setunit{\addcomma\space}%
    % \printfield{year}%
    
    % å¯é€‰è°ƒæ•´
    \renewcommand*{\intitlepunct}{\addcomma\space}%
    \renewcommand*{\nameyeardelim}{\addcomma\space}%
  \fi
  
  % è‡ªåŠ¨æ·»åŠ å‚è€ƒæ–‡çŒ®èµ„æºæ–‡ä»¶
  \AtEndOfClass{\addbibresource{\jobname.bib}}
\fi

% ä¸º amsrefs æ¨¡å¼å®šä¹‰å…¼å®¹æ€§å‘½ä»¤
% æ ¹æ®æ¨¡å¼è‡ªåŠ¨é€‰æ‹©ï¼šbiblatexä½¿ç”¨\printbibliographyï¼Œamsrefsä½¿ç”¨\bibliography
\newcommand{\MB@printbibliography}[1][]{%
  \ifMB@biblatex
    \printbibliography[#1]%
  \else
    \bibliography{#1}%
  \fi
}

% æ·»åŠ  amsrefs åŒ…åŠ è½½ï¼ˆå‘åå…¼å®¹ï¼‰
\ifMB@biblatex
  % biblatex æ¨¡å¼ä¸‹ä¸éœ€è¦ amsrefs
\else
  % ä½¿ç”¨ä¼ ç»ŸamsrefsåŒ…ï¼ˆå‘åå…¼å®¹ï¼‰
  \ifMB@authoryear
    \RequirePackage[author-year, msc-links, lite, abbrev]{amsrefs}
  \else
    \RequirePackage[alphabetic, msc-links, lite, abbrev]{amsrefs}
  \fi
\fi

% æ·»åŠ  refsection æ”¯æŒï¼ˆä»… biblatex æ¨¡å¼ï¼‰
\ifMB@biblatex
  % å®šä¹‰ refsection ç¯å¢ƒçš„ç®€åŒ–ç‰ˆæœ¬
  \newenvironment{MBrefsection}[1][]{%
    \begin{refsection}[#1]%
  }{%
    \end{refsection}%
  }
  
  % ä¸ºbiblatexæ¨¡å¼æ·»åŠ amsrefså…¼å®¹å±‚
  % è®© \cite{xxx}*{yyy} è¯­æ³•åœ¨biblatexä¸‹ä¹Ÿèƒ½å·¥ä½œ
  \makeatletter
  % ä¿å­˜åŸå§‹çš„citeå‘½ä»¤
  \let\oldcite\cite
  
  % å®šä¹‰æ–°çš„citeå‘½ä»¤ï¼Œæ”¯æŒamsrefsè¯­æ³•
  \DeclareRobustCommand{\cite}[1]{%
    \@ifnextchar*{\citewith{#1}}{\oldcite{#1}}%
  }
  
  % å®šä¹‰å¸¦æ³¨é‡Šçš„å¼•ç”¨å‘½ä»¤
  \def\citewith#1*#2{\oldcite[#2]{#1}}
\else
  % å¯¹äº amsrefs æ¨¡å¼ï¼Œrefsection ä¸èµ·ä½œç”¨ï¼Œä½†æä¾›å…¼å®¹æ€§
  \newenvironment{MBrefsection}[1][]{%
    % åœ¨ amsrefs æ¨¡å¼ä¸‹ï¼Œrefsection è¢«å¿½ç•¥
    \ignorespaces%
  }{%
    \unskip%
  }
\fi

% \opt{thmnum}é€‰é¡¹: å®šç†å¸¦ç¼–å·
%    \begin{macrocode}
\ifMB@thmnum
\setbeamertemplate{caption}[numbered]
\setbeamertemplate{theorems}[numbered]
\fi
%    \end{macrocode}
% \opt{subnav}é€‰é¡¹ï¼šæ’å…¥å°èŠ‚å¯¼èˆª
%    \begin{macrocode}
\ifMB@subnav
\AtBeginSubsection[]
{
  \frame[t]{
    \tableofcontents[ 
    currentsubsection, 
    hideothersubsections, 
    sectionstyle=show/hide, 
    subsectionstyle=show/shaded, 
    ]
  }
}
\fi
%    \end{macrocode}
% \opt{eqsecnum}é€‰é¡¹: å…¬å¼ä»¥èŠ‚ç¼–å·
%    \begin{macrocode}
\ifMB@eqsecnum
\numberwithin{equation}{section}
\fi
%    \end{macrocode}
% \opt{nds}é€‰é¡¹: ä¸ä½¿ç”¨é»˜è®¤è®¾ç½®
%    \begin{macrocode}
\ifMB@nds
%    \end{macrocode}
% è¯·ä½¿ç”¨è‡ªå®šä¹‰è®¾ç½®
%    \begin{macrocode}
\else
%    \end{macrocode}
% ä¸‹é¢æˆ‘ä»¬å°†ä½¿ç”¨æœ¬æ¨¡æ¿å®šä¹‰çš„ä¸»é¢˜ä¸é…è‰².
% \subsection{æŠ¥å‘Šä¸»é¢˜ä¸é…è‰²}
%    \begin{macrocode}
\mode<presentation>{
%    \end{macrocode}
% å®šä¹‰é®ç½©ä¸ºé€æ˜æ•ˆæœ
%    \begin{macrocode}
    \setbeamercovered{transparent}
  }
%    \end{macrocode}
% \subsubsection{æŠ¥å‘Šæ•´ä½“è®¾ç½®}
% å»æ‰åº•éƒ¨å¯¼èˆªæ¡
%    \begin{macrocode}
\setbeamertemplate{navigation symbols}{}
%    \end{macrocode}
% \subsubsection{æŠ¥å‘Šä¸»é¢˜}
% å‚è€ƒ\href{http://www.hartwork.org/beamer-theme-matrix/}{ä¸»é¢˜çŸ©é˜µ}è·å¾—æ›´å¤šä¸»é¢˜.
%    \begin{macrocode}
\usetheme{CambridgeUS}
%    \end{macrocode}
% \subsubsection{æŠ¥å‘Šå­—ä½“}
% ä½¿ç”¨ \pkg{professionalfonts} å¯ä»¥ä½¿å¾—æ•°å­¦å­—ä½“æ›´å¥½çœ‹.
%    \begin{macrocode}
\usefonttheme{professionalfonts}
%    \end{macrocode}
% \subsubsection{æŠ¥å‘Šé…è‰²}
% æ ¹æ®æ˜¯å¦å¤„äºæ‰“å°æ¨¡å¼æ¥åˆ¤æ–­é…è‰². 
% æ›´å¤šçš„é…è‰²å¯ä»¥å‚è€ƒ\href{https://goo.gl/GP4Itz}{ä¸»é¢˜é…è‰²}
%    \begin{macrocode}
\AtEndOfClass{
  \iftoggle{print}{
    \usetheme{default}
    \usecolortheme{seahorse}
    %%hyperref color
    \hypersetup{linkcolor=black}
    }{
    \mode<presentation>{
      %%hyperref color
      \hypersetup{linkcolor=domc}
      %%fix linkcolor 
      \addtobeamertemplate{headline}{\hypersetup{linkcolor=.}}{}
      \addtobeamertemplate{footline}{\hypersetup{linkcolor=.}}{}
      \usecolortheme{ustc}
    }
  }
}
%    \end{macrocode}
% \subsection{æŠ¥å‘Šé¦–é¡µ}
% åœ¨é¦–é¡µæ’å…¥æŠ¥å‘Šæ ‡é¢˜ä¸”ä¸è®¡æ•°
%    \begin{macrocode}
\AtBeginDocument{
  \frame[plain]{\titlepage}
  \addtocounter{framenumber}{-1}
}
%    \end{macrocode}
% è‡³æ­¤æŠ¥å‘Šçš„é»˜è®¤è®¾ç½®å®Œæˆ. 
%    \begin{macrocode}
\fi
%    \end{macrocode}
% åˆ‡æ¢åˆ°æ‰€æœ‰æ¨¡å¼(æ–‡ç« /æŠ¥å‘Š/æ‰“å°)
%    \begin{macrocode}
\mode<all>
%    \end{macrocode}
% \subsection{å‚è€ƒæ–‡çŒ®}
% è®¾ç½®é¡µç è®¡æ•°å™¨ä½¿å¾—æš‚åœä¸è®¡æ•°.
%    \begin{macrocode}
  \ifMB@nobib
  \else
  \AtEndDocument{%
    \newcounter{ffn}
  \setcounter{ffn}{\value{framenumber}}
%    \end{macrocode}
% åˆ†é¡µæ‰“å°å‚è€ƒæ–‡çŒ®
%    \begin{macrocode}
    %%\section{\ifMB@zh å‚è€ƒæ–‡çŒ®\else Reference\fi}
    \ifMB@zh\renewcommand{\refname}{å‚è€ƒæ–‡çŒ®}\fi
    \begin{frame}[t, allowframebreaks]{%
        \ifMB@zh å‚è€ƒæ–‡çŒ®\else Reference\fi
      }
      \ifMB@biblatex
        \printbibliography
        \ifMB@allcites\nocite{*}\fi
      \else
        \bibliography{\jobname}
        \ifMB@allcites\nocite{*}\fi
      \fi
    \end{frame}
    \setcounter{framenumber}{\value{ffn}}
    }
  \fi
%</class>
%    \end{macrocode}
% \section{ç¤ºä¾‹æ–‡æ¡£æºç }
%    \begin{macrocode}
%<*main>%
%% !Mode:: "TeX:UTF-8"
\documentclass[11pt, biblatex, citemath, thmnum, subnav, eqsecnum, allcites, zh, logo]{ustcmb}
%%%%%%%%%%%%%
%% Options %%
%%%%%%%%%%%%%
%% æ ¸å¿ƒé€‰é¡¹ (Core Options)
%% zh: ä¸­æ–‡æ”¯æŒï¼Œå¯ç”¨ä¸­æ–‡å­—ä½“å’Œæ’ç‰ˆ
%% thmnum: å®šç†ç¯å¢ƒå¸¦ç¼–å·ï¼Œä¾¿äºå¼•ç”¨
%% subnav: åœ¨æ¯ä¸ªå­èŠ‚å¼€å§‹æ˜¾ç¤ºå¯¼èˆªæ¡
%% eqsecnum: å…¬å¼ç¼–å·åŒ…å«èŠ‚å·ï¼Œæ ¼å¼ä¸º (èŠ‚å·.å…¬å¼å·)
%% logo: åœ¨æ ‡é¢˜é¡µé¡¶éƒ¨æ˜¾ç¤ºlogoï¼Œè¯·æ›¿æ¢./logo/ä¸‹çš„å¤§å­¦å’Œå­¦é™¢logo

%% å‚è€ƒæ–‡çŒ®é€‰é¡¹ (Bibliography Options)
%% biblatex: ä½¿ç”¨ç°ä»£biblatexåŒ…æ›¿ä»£ä¼ ç»Ÿbibtexï¼Œæä¾›æ›´çµæ´»çš„å‚è€ƒæ–‡çŒ®ç®¡ç†
%% citemath: æ•°å­¦è®ºæ–‡ä¸“ç”¨å¼•ç”¨æ ·å¼ï¼Œæ ¼å¼ä¸º "Author, Year'" (å¦‚ "J. Sacks-K. Uhlenbeck, 81'")
%% allcites: è¾“å‡º\jobname.bibä¸­çš„æ‰€æœ‰å‚è€ƒæ–‡çŒ®æ¡ç›®

%% é«˜çº§é€‰é¡¹ (Advanced Options)
%% nds: ä¸ä½¿ç”¨é»˜è®¤è®¾ç½®ï¼Œå®Œå…¨è‡ªå®šä¹‰
%% print: æ‰“å°ä¼˜åŒ–æ¨¡å¼ï¼Œè°ƒæ•´é¢œè‰²å’Œå¸ƒå±€
%% t: æ‰€æœ‰å¹»ç¯ç‰‡å†…å®¹é¡¶éƒ¨å¯¹é½
%% aspectratio=169: ä½¿ç”¨16:9å®½å±æ¯”ä¾‹æ›¿ä»£é»˜è®¤4:3æ¯”ä¾‹
%% è®¾ç½®é»˜è®¤åˆ†é¡µæ ·å¼
  \setbeamertemplate{frametitle continuation}[from second][(ç»­)]
%% æ”¹å˜é»˜è®¤ä¸»é¢˜
%%\usetheme{CambridgeUS}
%%\usecolortheme{seahorse}
%%default color theme:ustc
%%color for USTC
%%\definecolor{domc}{HTML}{04498A}
%%color for SJTU
%%\definecolor{domc}{HTML}{3F598F}
%%è®¾ç½®ä¸­æ–‡å­—ä½“
\setCJKmainfont[AutoFakeBold, ItalicFont=STKaiti]{STSong}
\setCJKsansfont[AutoFakeBold, AutoFakeSlant]{STXihei}
\setCJKmonofont[AutoFakeBold, AutoFakeSlant]{STFangsong}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%===========================
%% your definitions:
%%===========================
\newcommand{\eps}{\epsilon}

%%æœ¬æ–‡æ¡£éœ€è¦çš„å®åŒ…, ä¹Ÿè®¸ä½ ä¸ç”¨
%%å‚è€ƒæ–‡çŒ®æ•´åˆåˆ°tex
\usepackage{filecontents}
\begin{filecontents}{\jobname.bib}
  @misc{tantau2004user,
    title={User's Guide to the Beamer Class, Version 3.01},
    author={Tantau, Till},
    year={2004}
  }
  @misc{xecjk2016manual,
    title={xeCJKå®åŒ…æ‰‹å†Œ},
    author={CTEX.ORG},
    year={2016}
  }
  @misc{beamer2i017manual,
    title={The beamer class --- User Guide for version 3.44.},
    author={Joseph Wright},
    year={2017}
  }
\end{filecontents}
%%äº§ç”Ÿä¸€äº›æ®µè½
\usepackage{lipsum}
%%æŠ„å½•ç¯å¢ƒ
\usepackage{listings}
\lstset{
  basicstyle=\small\ttfamily\color{gray!50!black},
  language={[LaTeX]TeX},
  breaklines=true,
  frame=single,
}
%%===========================
%% your title/name/institute:
%%===========================
\title[\sc Mean Curvature Flow \& Ricci Flow]
{\sc On the Evolution of Mean Curvature Flow\\
  with Background Ricci Flow}
\subtitle{}
\author[Lott, Anders] % (optional, for multiple authors)
{John Lott\inst{1} \and Bruce Kleiner\inst{2}}
\institute[Univ. California, Courant Inst.] % (optional)
{
  \inst{1}%
  Department of Mathematics, University of California at Berkeley
  \and
  \inst{2}%
  Courant Institute of Mathematical Sciences
}
\date[ICPDE\&A 2016] % (optional)
{International Conference on Partial Differential Equations
  and Applications, 2016}
\subject{Pure Math}
\begin{document}
%%===========================
%% your slides:
%%===========================
%%å¯¼èˆª
\frame[t, allowframebreaks]{\tableofcontents\label{contents}}
\section{æ¨¡æ¿ç‰¹è‰²}
\subsection{æ¦‚è¿°}
\begin{frame}[t]{æ¦‚è¿°}
  æœ¬æŠ¥å‘Šæ¨¡æ¿æ—¨åœ¨æ–¹ä¾¿å¤§å®¶è½»æ¾ä¸Šæ‰‹åˆ¶ä½œæŠ¥å‘Š. 
  åœ¨ä¸€å®šç¨‹åº¦ä¸Šå®šåˆ¶æŠ¥å‘Šæ ¼å¼, åº”å¤§å®¶è¦æ±‚è¿˜åŒæ—¶æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡. 
  æ”¯æŒé€‰é¡¹å¦‚ä¸‹:
  \begin{table}[htbp]
    \begin{tabular}{|l|p{.75\textwidth}|}
      \hline
      % after \\: \hline or \cline{col1-col2} \cline{col3-col4} ...
      zh & ä¸­æ–‡æ”¯æŒ(xeCJK) \\
      \hline
      logo & ä½¿ç”¨å­¦æ ¡ä»¥åŠå­¦é™¢Logo \\
      \hline
      thmnum & å®šç†ç¼–å·\\
      \hline
      eqsecnum & å…¬å¼ä»¥èŠ‚ç¼–å·\\
      \hline
      authoryear & ä½œè€…å¹´ä»£å‹æ–‡çŒ®å¼•ç”¨\\
      \hline
      allcites & è‡ªåŠ¨åˆ—å‡ºæ‰€æœ‰å‚è€ƒæ–‡çŒ®\\
      \hline
      nds & ä¸ä½¿ç”¨é»˜è®¤è®¾ç½®\\
      \hline
      nobib & ä¸åˆ—å‡ºå‚è€ƒæ–‡çŒ®\\
      \hline
      print & æ‰“å°æ¨¡å¼\\
      \hline
    \end{tabular}
  \end{table}
  æœ€ç»ˆ, \uwave{è¯·ä»¥\lstinline|XeLaTeX+BibLaTeX(+XeLaTeX*2)|
  çš„æ–¹å¼ç¼–è¯‘è¿è¡Œ.}
\end{frame}
\section{æ¨¡æ¿ä½¿ç”¨è¯¦è§£}
\subsection{ä¸­æ–‡æ”¯æŒ}
\begin{frame}[t, fragile]{ä¸­æ–‡æ”¯æŒ}
  ä¸­æ–‡é‡‡ç”¨çš„æ˜¯xeCJKæ–¹æ¡ˆ, ä½¿ç”¨æ—¶åªéœ€è¦æ·»åŠ \lstinline|zh|é€‰é¡¹å³å¯. 
  å³ä½¿ç”¨
  \begin{lstlisting}
  \documentclass[zh]{mathbeamer}
  \end{lstlisting}
  éœ€è¦æ³¨æ„çš„æ˜¯, é»˜è®¤çŠ¶æ€ä¸‹, \uwave{å¹¶æ²¡æœ‰é…ç½®ä»»ä½•ä¸­æ–‡å­—ä½“}. 
  æ•…å¯èƒ½äº§ç”Ÿä»¥ä¸‹é—®é¢˜:
  \begin{itemize}
    \item åœ¨æ—§ç‰ˆæœ¬çš„xeCJKä¸­ç¼–è¯‘ä¸é€šè¿‡(å› ä¸ºæ²¡æœ‰é»˜è®¤é…ç½®å­—ä½“). 
      æ­¤æ—¶éœ€è¦å‡çº§ xeCJK åŒ…å³å¯.
    \item xeCJKé»˜è®¤çš„å­—ä½“æ˜¯é»‘ä½“, ä¹Ÿè®¸ä¸é€‚ç”¨äºæ­£å¼åœºåˆ. 
      å¦‚ä½•æŸ¥çœ‹ä»¥åŠä½¿ç”¨å­—ä½“, è¯·å‚è€ƒ
      \cite{xecjk2016manual}*{p.~8, 3.2.1èŠ‚}. 
      ä¾‹å¦‚ä½ å¯ä»¥åœ¨å¯¼è¨€åŒºåŠ å…¥
  \end{itemize}
      \begin{lstlisting}
\setCJKmainfont[AutoFakeBold, ItalicFont=STKaiti]{STSong}
\setCJKsansfont[AutoFakeBold, AutoFakeSlant]{STXihei}
\setCJKmonofont[AutoFakeBold, AutoFakeSlant]{STFangsong}
      \end{lstlisting}
\end{frame}
\subsection{å­¦æ ¡Logoä¸é…è‰²}
\begin{frame}[t]{å­¦æ ¡Logoä¸é…è‰²}
  ä½ å¯ä»¥ä½¿ç”¨é€‰é¡¹ \lstinline|logo| æ¥åœ¨æŠ¥å‘Šé¦–é¡µç”Ÿæˆå­¦æ ¡å’Œå­¦é™¢çš„logo. 
  å­¦æ ¡ä¸å­¦é™¢çš„Logoéƒ½æ”¾åœ¨\lstinline|logo/| ç›®å½•ä¸‹. 
  è¿™ä¸ªå¯¹ä¸åŒå­¦æ ¡è€Œè¨€å½“ç„¶æ˜¯ä¸åŒçš„, å¦‚æœä½ è¦ä½¿ç”¨è‡ªå·±å­¦æ ¡çš„logo, 
  è¯·æ³¨æ„ä»¥ä¸‹
  \begin{itemize}
    \item ä¸¤ä¸ªlogoçš„é«˜åº¦éƒ½ä¸º1cm, è€Œä¸”éƒ½æ²¡æœ‰èƒŒæ™¯, æ ¼å¼ä¸ºpdf. 
      è¯·ä½¿ç”¨å›¾åƒå¤„ç†è½¯ä»¶(GIMP)å¤„ç†;
    \item å›¾æ ‡çš„é¢œè‰²åº”è¯¥å’Œæ•´ä¸ªæ¨¡æ¿çš„é…è‰²åè°ƒ. 
      æ•…ä½ è¦ä¹ˆæ›´æ”¹å›¾æ ‡çš„é¢œè‰², è¦ä¹ˆæ›´æ”¹æœ¬æ¨¡æ¿çš„é…è‰²;
    \item æœ€åä½ è¿˜éœ€è¦æ£€æŸ¥èƒŒæ™¯è‰²å’Œå‰æ™¯è‰²çš„é…åˆæ˜¯å¦å…·æœ‰é«˜å¯¹æ¯”åº¦
      (å­—ä½“èƒ½çœ‹æ¸…), 
      æˆ‘ä½¿ç”¨çš„æ˜¯\href{http://contrastchecker.com/}{Contrast Checker}.
  \end{itemize}
  \uwave{é…è‰²çš„æ”¹å˜éœ€è¦æ”¹å˜æºç , æœ¬æƒ³æä¾›ä¸€ä¸ªå‘½ä»¤çš„, 
  ä½†æ˜¯å¾ˆéš¾æ‰¾åˆ°åˆé€‚çš„æ’å…¥ç‚¹(Hook), æœ€ç»ˆæ”¾å¼ƒ.}
\end{frame}
\subsection{å®šç†ç¯å¢ƒçš„ä½¿ç”¨}
\begin{frame}[t, fragile]{é»˜è®¤çš„å®šç†ç¯å¢ƒ}
  beamerè‡ªèº«å·²ç»å®šä¹‰äº†å®šç†ç¯å¢ƒ\cite{tantau2004user}*{p.~193}: 
  \lstinline|theorem|, \lstinline|lemma|, \lstinline|definition|,
  \lstinline|corollary|, \lstinline|example|, 
  \lstinline|proposition|(å¥½åƒæˆ‘ä¸èƒ½ä½¿ç”¨proposition)
  \begin{theorem}[å‹¾è‚¡å®šç†]
    å‡è®¾$a,b,c$æ˜¯ç›´è§’ä¸‰è§’å½¢çš„ä¸‰è¾¹, ä¸”$c>a\geq b>0$, åˆ™
    \[
      a^a+b^2=c^2.
    \]
  \end{theorem}
  \begin{lstlisting}
\begin{theorem}[å‹¾è‚¡å®šç†]
    å‡è®¾$a,b,c$æ˜¯ç›´è§’ä¸‰è§’å½¢çš„ä¸‰è¾¹, ä¸”$c>a\geq b>0$, åˆ™
    \[
        a^a+b^2=c^2.
    \]
\end{theorem}
  \end{lstlisting}
\end{frame}
\begin{frame}[t, fragile]{é¢„å®šä¹‰å®šç†ç¯å¢ƒ}
  é™¤äº†beameré»˜è®¤å®šä¹‰çš„å®šç†ç¯å¢ƒ, æœ¬æ¨¡æ¿è¿˜è‡ªå¸¦å®šä¹‰äº†ä¸€äº›å®šç†ç¯å¢ƒ, 
  å…·ä½“è¯·å‚è€ƒé…ç½®æ–‡ä»¶:
  \lstinline|ustcmb.cfg|, å®ƒå®šä¹‰äº†è‹±æ–‡/ä¸­æ–‡ä¸‹å®šç†çš„é…ç½®.
  è¿™é‡Œä¸¾ä¾‹å¦‚ä¸‹
  \begin{cthm}[å‹¾è‚¡å®šç†]
    å‡è®¾$a,b,c$æ˜¯ç›´è§’ä¸‰è§’å½¢çš„ä¸‰è¾¹, ä¸”$c>a\geq b>0$, åˆ™
    \[
      a^a+b^2=c^2.
    \]
  \end{cthm}
  \begin{lstlisting}
\begin{cthm}[å‹¾è‚¡å®šç†]
    å‡è®¾$a,b,c$æ˜¯ç›´è§’ä¸‰è§’å½¢çš„ä¸‰è¾¹, ä¸”$c>a\geq b>0$, åˆ™
    \[
        a^a+b^2=c^2.
    \]
\end{cthm}
  \end{lstlisting}
\end{frame}
\begin{frame}[t]{å®šç†ç¯å¢ƒçš„å˜å¼:Blockä¸AlertBlock}
  \begin{block}{Block Title}
    Lorem ipsum dolor sit amet, consectetur adipisicing elit, 
    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
  \end{block}
  \begin{alertblock}{Alert Block Title}
    Lorem ipsum dolor sit amet, consectetur adipisicing elit, 
    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
  \end{alertblock}
\end{frame}
\subsection{é•¿å®šç†æµ‹è¯•}
\begin{frame}[t,allowframebreaks]{é•¿å®šç†æµ‹è¯•}
  \begin{thm}
    \lipsum[3]
  \end{thm}
  \addtocounter{thm}{-1}
  \begin{thm}[Cont.]
    \lipsum[4]
  \end{thm}
  \begin{thm}
  \end{thm}
\end{frame}
\subsection{åˆ†é¡µæ¨¡å¼ä¸‹çš„åˆ†æ­¥æ˜¾ç¤º}
\begin{frame}[<+->]{åˆ†é¡µæ¨¡å¼ä¸‹çš„åˆ†æ­¥æ˜¾ç¤º}
  \begin{onlyenv}<1>
    \lipsum[1]
  \end{onlyenv}
  \begin{onlyenv}<2->
    \begin{itemize}[<+(1)->]
      \item Firstly ...
      \item Secondly ...
      \item Thirdly ...
    \end{itemize}
    \uncover<+->{æˆ‘ä»¬ç‰¹åˆ«è¦æ³¨æ„è¿™é‡Œçš„å¢é‡\lstinline{(1)} (è¯·å‚æºç ), å®ƒè¡¨ç¤ºå°†\lstinline{beamerpause}å¢åŠ 1, è¿™æ˜¯å¿…è¦çš„, å› ä¸ºç¬¬ä¸€é¡µå ç”¨äº†ä¸€ä¸ª\lstinline{pause}. æ›´å¤šçš„ç»†èŠ‚è¯·å‚è€ƒ~\cite{beamer2i017manual}*{Sect.~9.6.4}.}
  \end{onlyenv}
\end{frame}
\section{æ‰“å°æ¨¡å¼}
\begin{frame}[t]{æ‰“å°æ¨¡å¼}
  æœ¬æ¨¡æ¿æä¾›äº†æ–¹ä¾¿æ‰“å°slideçš„æ¨¡å¼\lstinline|print|, 
  ä½¿ç”¨è¯¥æ¨¡å¼ä¼šä½œå¦‚ä¸‹æ”¹å˜
  \begin{itemize}[<+->]
    \item ä¸»é¢˜é¢œè‰²è®¾ç½®ç°è‰², å¹¶ä¸”å¸¦æœ‰ç°åº¦èƒŒæ™¯, æ–¹ä¾¿æŸ¥çœ‹æ˜¯å¦è¶…å‡ºè¾¹è·;
    \item 4å¼ å¹»ç¯ç‰‡æ”¾åˆ°ä¸€é¡µA4(æ¨ªå‘)çº¸ä¸Š;
    \item åŒä¸€ä¸ªframeä¸­çš„å¤šä¸ªé®ç½©(overlay)ä¼šåˆå¹¶åˆ°ä¸€é¡µæ‰“å°;
    \item ç”±äºé»˜è®¤ä½¿ç”¨çš„æ˜¯\lstinline|handout|æ¨¡å¼æ¥æ‰“å°, 
	  å‚è€ƒæ–‡çŒ®åˆ—è¡¨ä¸ä¼šæ‰“å°.
  \end{itemize}
\end{frame}
\section{FAQ}
\begin{frame}[allowframebreaks,t]{FAQ}
    è¿™é‡Œ, æˆ‘ç»™å‡ºä¸€äº›å¸¸è§çš„ç”¨æˆ·é—®é¢˜.
    \begin{itemize}
        \item å¦‚ä½•ç¼–è¯‘æœ¬æ¨¡æ¿?

            æœ¬æ¨¡æ¿ä½¿ç”¨æ—¶ç¼–è¯‘åªèƒ½ä½¿ç”¨\lstinline|XeLaTeX|æ¥ç¼–è¯‘, å¹¶ä¸æ”¯æŒå…¶ä»–ç¼–è¯‘æ–¹å¼.
        \item å¦‚ä½•å†™å…¥å‚è€ƒæ–‡çŒ®?

            æœ¬æ¨¡æ¿çš„å‚è€ƒæ–‡çŒ®æ•´åˆåˆ°TeXæºç æ–‡ä»¶ä¸­, å³æ”¾åœ¨\lstinline|\\begin%
            {filecontents}|å’Œ\lstinline|\\end{filecontents}|ä¹‹é—´çš„éƒ¨åˆ†, 
            åœ¨ç¼–è¯‘æ—¶éœ€è¦è¿è¡Œ\lstinline|BibTeX|æ¥å¤„ç†å‚è€ƒæ–‡çŒ®. ä¸€èˆ¬æ­¤æ—¶çš„ç¼–è¯‘é¡ºåºä¸º:
            \lstinline|XeLaTeX|->\lstinline|BibTeX|->\lstinline|XeLaTeX|->
            \lstinline|XeLaTeX|æ¥ä½¿å¾—å‚è€ƒæ–‡çŒ®æ­£ç¡®æ˜¾ç¤º.
        \item å¦‚ä½•å¼ºè°ƒ?

            è‹¥æ˜¯ä½¿ç”¨ä¸­æ–‡çš„è¯, å¼ºè°ƒæˆ‘é€‰ç”¨çš„æ˜¯ä¸‹æ³¢æµªçº¿, ä½¿ç”¨çš„å‘½ä»¤ä¸º\lstinline|\\uwave{å¼ºè°ƒçš„å†…å®¹}|. è¿™ä¸ªå¥½å¤„æ˜¯å¯ä»¥è‡ªåŠ¨æ–­è¡Œ. ä½ ä¹Ÿå¯ä»¥ç”¨é¢œè‰²æ¥å¼ºè°ƒ, ä¾‹å¦‚:
            \lstinline|\\color{blue}å¼ºè°ƒçš„å†…å®¹|. è¯¦æƒ…å¯ä»¥å‚è€ƒ\lstinline|xcolor|å®åŒ…çš„æ–‡æ¡£.
        \item å¦‚ä½•åé¦ˆ?


            è‹¥ä½ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰ä»»ä½•ç–‘é—®/å»ºè®®. è¯·ä¸è¦åå•¬, å°†å…¶åé¦ˆåˆ°æ¨¡æ¿\href{https://github.com/vanabel/mathbeamer/issues}{å‘å¸ƒä¸»é¡µ}.

            æ­¤å¤–ä½ è¿˜å¯ä»¥åŠ å…¥QQç¾¤\href{https://goo.gl/i1kcwe}{LaTeXè®¨è®ºåŒº}.
    \end{itemize}
\end{frame}
%%===========================
%% bibliography
%%===========================
%%input "ustcmb.bib"
\end{document}
%</main>
%    \end{macrocode}
% \section{é…ç½®æ–‡ä»¶æºç }
% é…ç½®æ–‡ä»¶ä¸»è¦é…ç½®äº†å®šç†ç­‰ç¯å¢ƒ. åˆ†ä¸ºä¸¤ç»„:\\
% |thm|, |lem|, |prop|, |cor|, |defn|, |conj|, |exmp|, |rmk|\\
% |cthm|, |clem|, |cprop|, |ccor|, |cdefn|, |cconj|, |cexmp|, |crmk|\\
% åä¸€ç»„æ˜¯åœ¨å‰ä¸€ç»„çš„å‰é¢åŠ å­—æ¯|c|è€Œå¾—åˆ°, è¡¨ç¤ºä¸­æ–‡å®šç†ç¯å¢ƒ.
%    \begin{macrocode}
%<*cfg>%
%% !Mode:: "TeX:UTF-8"
%%Define theorem styles
  \theoremstyle{plain}
  \newtheorem{thm}{Theorem}[section]
  \newtheorem{lem}[thm]{Lemma}
  \newtheorem{prop}[thm]{Proposition}
  \newtheorem{cor}[thm]{Corollary}
  \theoremstyle{definition}
  \newtheorem{defn}[thm]{Definition}
  \newtheorem{cthm}{å®šç†}[section]
  \newtheorem{cdefn}[cthm]{å®šä¹‰}
  \newtheorem{clem}[cthm]{å¼•ç†}
  \newtheorem{cprop}[cthm]{å‘½é¢˜}
  \newtheorem{ccor}[cthm]{æ¨è®º}
  \theoremstyle{example}
  \newtheorem{conj}{Conjecture}
  \newtheorem{cconj}{çŒœæƒ³}
  \newtheorem{exmp}{Example}
  \newtheorem{cexmp}{ä¾‹å­}
  \newtheorem*{rmk}{Remark}
  \newtheorem*{crmk}{æ³¨è®°}
%% xeCJK è®¾ç½®
  \xeCJKsetup{
    PunctStyle=kaiming,
    CJKmath=true,
    CheckSingle=true,
    PlainEquation=true
  }

%%Define font family
%% find your system fonts by:
%% fc-list -f "\%{family}\n" :lang=zh
%%  \newCJKfontfamily[yhei]\yhei{Microsoft YaHei}         %å¾®è½¯é›…é»‘
%%  \newCJKfontfamily[hei]\hei{SimHei}                    %é»‘ä½“ 
%%
%%  \newCJKfontfamily[kai]\kai{KaiTi}                     %æ¥·ä½“
%%  \newCJKfontfamily[skai]\skai{STKaiti}                 %åæ–‡æ¥·ä½“
%%  \newCJKfontfamily[sxkai]\sxkai{STXingkai}             %åæ–‡è¡Œæ¥·
%%
%%  \newCJKfontfamily[ssong]\ssong{SimSun}                 %å®‹ä½“
%%  \newCJKfontfamily[nsong]\nsong{NSimSun}               %æ–°å®‹ä½“
%%  \newCJKfontfamily[zsong]\zsong{STZhongsong}           %åæ–‡ä¸­å®‹
%%  \newCJKfontfamily[song]\song{STSong}                  %åæ–‡å®‹ä½“
%%
%%  \newCJKfontfamily[fsong]\fsong{FangSong}              %ä»¿å®‹
%%  \newCJKfontfamily[sfsong]\sfsong{STFangsong}          %åæ–‡ä»¿å®‹
%%
%%  \newCJKfontfamily[Ahei]\Ahei{Adobe Heiti Std}         %Adobeé»‘ä½“
%%  \newCJKfontfamily[Akai]\Akai{Adobe Kaiti Std}         %Adobeæ¥·ä½“
%%  \newCJKfontfamily[Asong]\Asong{Adobe Song Std}        %Abobeå®‹ä½“
%%  \newCJKfontfamily[Afsong]\Afsong{Adobe Fangsong Std}  %Adobeä»¿å®‹
%%
%%  \newCJKfontfamily[li]\li{LiSu}                        %éš¶ä¹¦
%%  \newCJKfontfamily[you]\you{YouYuan}                   %å¹¼åœ†
%</cfg>
%    \end{macrocode}
% \section{é…è‰²ä¸»é¢˜æºç }
% è¿™å°†ç”Ÿæˆ|beamercolorthemeustc.sty|, é‡Œé¢åŒ…å«ä¸»é¢˜|ustc|çš„é…è‰².
%    \begin{macrocode}
%<*ustc>
%%%%%%%%%%%%%%%%%%%%%%
%% For developers:
%%%%%%%%%%%%%%%%%%%%%%
%% Since we use CambridgeUS theme: 
%% tex/latex/beamer/themes/theme/beamerthemeCambridgeUS.sty
%% Which use 'rounded' with 'shadow' as inner theme
%% ( control main title, environments, figures and
%%    tables, footnotes, etc )
%% see 
%% tex/latex/beamer/themes/inner/beamerinnerthemerounded.sty
%% and use 'infolines' as outer theme 
%% ( control head-/foot-lines, sidebars, frame titles, etc )
%% see 
%% tex/latex/beamer/themes/outer/beamerouterthemeinfolines.sty
\mode<presentation>
%%fix the blur of head section name
\setbeamerfont*{section in head/foot}{series=\bfseries}
%%the color settings
\definecolor{domc}{HTML}{04498A}
\definecolor{domb}{HTML}{FFFFFF}
\setbeamercolor{section in toc}{
  fg=black,bg=white
}
\setbeamercolor{alerted text}{
  fg=domc!80!gray
}
\setbeamercolor*{palette primary}{
  fg=domc!60!black,bg=gray!20!white
}
\setbeamercolor*{palette secondary}{
  fg=domc!50!black,bg=gray!35!white
}
\setbeamercolor*{palette tertiary}{
  bg=domc!90!black,fg=white
}
\setbeamercolor*{palette quaternary}{
  fg=domc,bg=gray!5!white
}

%%\setbeamercolor*{sidebar}{
%%  fg=domc,bg=gray!15!white
%%}
%%\setbeamercolor*{palette sidebar primary}{
%%  fg=domc!10!black
%%}
%%\setbeamercolor*{palette sidebar secondary}{
%%  fg=white
%%}
%%\setbeamercolor*{palette sidebar tertiary}{
%%  fg=domc!50!black
%%}
%%\setbeamercolor*{palette sidebar quaternary}{
%%  fg=gray!10!white
%%}

%%\setbeamercolor*{titlelike}{
%%  parent=palette primary
%%}
\setbeamercolor{titlelike}{
  parent=palette primary,fg=white, bg=domc
}
\setbeamercolor{frametitle}{
  bg=domc!10!white, fg=domc
}
%%\setbeamercolor{frametitle right}{
%%  bg=gray!60!white
%%}

%%\setbeamercolor*{separation line}{}
%%\setbeamercolor*{fine separation line}{}

\setbeamercolor*{structure}{
  bg=domb, fg=domc
}
\setbeamercolor*{block title}{
  use=structure, fg=structure.bg, bg=structure.fg
}
\setbeamercolor*{block title alerted}{
  use=structure, fg=white, bg=structure.fg!75!black
}
\setbeamercolor*{block title example}{
  fg=structure.fg, bg=structure.fg!25!white
}

\setbeamercolor{item projected}{
  bg=domc, fg=white
}
\mode
<all>
%</ustc>
%    \end{macrocode}
% \CheckSum{0}
% \Finale
\endinput
